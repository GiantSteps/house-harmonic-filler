#N canvas 153 23 1063 751 10;
#X declare -path abs;
#X declare -path ./abs;
#X declare -lib jasch_lib -lib mrpeach;
#X obj -405 371 cnv 15 290 230 empty empty empty 20 12 0 14 -232576
-66577 0;
#X obj -389 387 bng 20 250 50 0 load_midi_file set-load_midi_file empty
17 7 0 10 -261682 -1 -1;
#X obj -333 422 hsl 200 16 40 239 0 0 tempo set-tempo empty 0 0 0 10
-262144 -1 -1 8500 1;
#X text -374 420 TEMPO;
#X obj -336 412 bng 8 250 50 0 learn-tempo --- empty 17 7 0 10 -262144
-1 -1;
#X obj -369 387 bng 20 250 50 0 load_midi_file set-load_midi_file empty
17 7 0 10 -261682 -1 -1;
#X obj -172 387 tgl 20 0 play set-play empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj -264 387 tgl 20 0 clock-mode set-clock-mode empty 17 7 0 10
-262144 -1 -1 1 1;
#X obj -389 387 cnv 15 40 20 empty empty LOAD 5 10 0 14 -159808 -262144
0;
#X obj -152 387 tgl 20 0 play set-play empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj -172 387 cnv 15 40 20 empty gui-play PLAY 5 10 0 14 -159808
-262144 0;
#X obj -244 387 tgl 20 0 clock-mode set-clock-mode empty 17 7 0 10
-262144 -1 -1 1 1;
#X obj -224 387 tgl 20 0 clock-mode set-clock-mode empty 17 7 0 10
-262144 -1 -1 1 1;
#X obj -204 387 tgl 20 0 clock-mode set-clock-mode empty 17 7 0 10
-262144 -1 -1 1 1;
#X obj -264 387 cnv 15 80 20 empty gui-clock INTERNAL 9 10 0 14 -159808
-262144 0;
#X obj -262 425 cnv 8 1 1 empty vis-tempo 125 20 5 0 12 -262144 -66577
0;
#X obj -316 387 bng 20 250 50 0 reload empty empty 17 7 0 10 -261682
-1 -1;
#X obj -296 387 bng 20 250 50 0 reload empty empty 17 7 0 10 -261682
-1 -1;
#X obj -336 387 bng 20 250 50 0 reload empty empty 17 7 0 10 -261682
-1 -1;
#X obj -336 387 cnv 15 60 20 empty empty RELOAD 7 10 0 14 -159808 -262144
0;
#N canvas 22 23 913 679 gui 0;
#X msg 40 628 \; pd dsp 1;
#X obj 40 599 loadbang;
#N canvas 362 135 728 607 knowledge 0;
#X obj 171 38 inlet index value;
#X obj 365 30 inlet elements;
#X obj 171 213 coll \$0-stream;
#C restore;
#X obj 487 31 inlet reset;
#X msg 487 174 clear;
#X obj 171 57 t a a;
#X obj 171 170 list append;
#X obj 296 119 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 32 256;
#X obj 228 133 %;
#N canvas 577 271 450 300 round 0;
#X msg 118 28 length;
#X obj 118 80 %;
#X obj 118 202 coll \$0-stream;
#C restore;
#X obj 118 47 coll \$0-stream;
#C restore;
#X obj 118 102 until;
#X msg 118 123 length;
#X obj 118 142 coll \$0-stream;
#C restore;
#X msg 118 180 delete \$1;
#X obj 118 161 - 1;
#X obj 118 8 inlet bang to delete;
#X obj 258 63 inlet size in 16th note;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 7 0;
#X connect 9 0 0 0;
#X connect 10 0 1 1;
#X restore 146 256 pd round up the coll;
#X obj 18 38 inlet bang when finished;
#X obj 18 239 t b b;
#X text 295 100 length of analysis 16th note;
#X msg 18 395 bang;
#N canvas 240 220 639 504 create 0;
#X obj 430 90 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 4 256;
#X obj 214 279 coll \$0-stream;
#C restore;
#X obj 214 299 list split 1;
#X obj 213 346 list split;
#X obj 430 189 + 1;
#X msg 452 273 bang;
#X obj 214 325 list append;
#N canvas 796 499 450 300 list 0;
#X obj 31 34 inlet list;
#X obj 62 237 outlet list;
#X obj 89 105 list split 1;
#X obj 220 155 list;
#X msg 208 87 bang;
#X obj 88 126 t b a;
#X obj 131 127 list;
#X obj 37 179 list;
#X obj 88 76 t b a b;
#X obj 105 156 list append;
#X connect 0 0 8 0;
#X connect 2 0 5 0;
#X connect 2 1 6 1;
#X connect 3 0 9 1;
#X connect 4 0 9 1;
#X connect 5 0 6 0;
#X connect 5 1 9 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X connect 8 1 2 0;
#X connect 8 2 4 0;
#X connect 9 0 3 0;
#X connect 9 0 7 1;
#X restore 213 378 pd list reverse;
#X obj 156 109 coll \$0-stream;
#C restore;
#X msg 156 68 length;
#X obj 232 174 -;
#X obj 214 260 %;
#X obj 156 173 until;
#X obj 156 128 t f f f b;
#X obj 156 207 f;
#X obj 183 207 + 1;
#X msg 229 148 0;
#X obj 214 238 +;
#X obj 156 88 t a b;
#X obj 156 153 +;
#X obj 156 40 inlet bang;
#X obj 429 69 inlet markov order;
#X obj 213 404 list prepend;
#X obj 213 425 list prepend;
#X obj 276 212 t f f;
#X obj 321 235 -;
#X obj 213 446 outlet general-index index-within-pattern n-plets;
#X connect 0 0 4 0;
#X connect 0 0 10 1;
#X connect 0 0 19 1;
#X connect 0 0 25 1;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 2 1 22 1;
#X connect 3 0 6 1;
#X connect 3 0 7 0;
#X connect 3 2 6 1;
#X connect 4 0 3 1;
#X connect 5 0 6 1;
#X connect 6 0 3 0;
#X connect 7 0 22 0;
#X connect 8 0 13 0;
#X connect 9 0 18 0;
#X connect 10 0 17 1;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 19 0;
#X connect 13 1 10 0;
#X connect 13 2 11 1;
#X connect 13 3 16 0;
#X connect 14 0 15 0;
#X connect 14 0 24 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 11 0;
#X connect 18 0 8 0;
#X connect 18 1 5 0;
#X connect 19 0 12 0;
#X connect 20 0 9 0;
#X connect 21 0 0 0;
#X connect 22 0 23 0;
#X connect 23 0 26 0;
#X connect 24 0 17 0;
#X connect 24 1 25 0;
#X connect 25 0 23 1;
#X restore 18 416 pd create all markov n-plets;
#X obj 359 119 cnv 15 15 15 empty empty empty 20 12 0 14 -258113 -66577
0;
#X text 327 450 (1) \$0-stream has all notes in order. the abstraction
[pd round up the coll] is in charge of rounding up the elements in
the coll so it has a fixed duration of 16 or 32 steps.;
#X text 326 432 two colls are created:;
#X obj 18 456 coll \$0-knowledge;
#C restore;
#X text 327 498 (2) The second coll \$0-knowledge has the Markov matrix
(aka the knowledge). This coll is wrapped wround 16 or 32 steps which
are the indexes. Each aditional column is a complete pattern. Each
element of the column is in the form of precedentEvent \, so the last
item is the event that was actually payed on that step and any previous
information is the preceding elements.;
#N canvas 757 396 450 300 wrap 0;
#X obj 113 173 list;
#X obj 147 156 l2s;
#X obj 163 117 loadbang;
#X msg 113 193 merge \$1 \$2;
#X obj 79 65 list split 1;
#X obj 113 86 list split 1;
#X msg 163 136 symbol;
#X obj 79 30 inlet;
#X obj 113 225 outlet;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 3 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 6 0 1 1;
#X connect 7 0 4 0;
#X restore 18 436 pd wrap and compress;
#X obj 535 253 inlet;
#X obj 228 113 unpack f s;
#X connect 0 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 6 0;
#X connect 5 1 22 0;
#X connect 6 0 2 0;
#X connect 7 0 8 1;
#X connect 7 0 9 1;
#X connect 8 0 6 1;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 11 1 9 0;
#X connect 13 0 14 0;
#X connect 14 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 14 1;
#X connect 22 0 8 0;
#X coords 0 0 1 1 200 18 0;
#X restore 63 322 pd knowledge;
#X msg 151 299 bang;
#N canvas 286 97 987 688 search 0;
#X obj 288 207 coll \$0-knowledge;
#C restore;
#N canvas 306 281 562 451 element2list 0;
#X obj 103 145 s2l;
#X msg 118 126 symbol;
#X obj 118 107 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 199 99 Convert a wrapped element of the knowledge database
into its elements.;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 288 245 pd element2list;
#N canvas 426 462 450 300 drip 0;
#X obj 32 51 inlet;
#X obj 45 179 outlet;
#X obj 44 90 list split 1;
#X obj 43 116 t b a;
#X obj 83 140 list;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X restore 288 226 pd drip;
#X obj 107 286 tabread \$0-ran32;
#X obj 201 515 list prepend;
#X obj 409 209 t a a;
#N canvas 499 439 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 147 115 list;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 175 145 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X obj 85 225 list trim;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 4 0 6 1;
#X connect 5 0 2 1;
#X connect 6 0 9 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X connect 9 0 8 0;
#X restore 225 286 pd makelist;
#X obj 225 409 route bang;
#N canvas 261 80 478 643 probs2element 0;
#X obj 102 428 sum;
#X obj 102 352 list;
#X obj 102 407 list split;
#X obj 102 316 t b b;
#X obj 159 347 f;
#X obj 190 347 + 1;
#X msg 174 319 0;
#X obj 102 264 list length;
#X obj 102 286 until;
#X obj 102 238 t a a b;
#X obj 283 531 f;
#X obj 159 387 t f f;
#X obj 283 483 sel 1;
#X obj 102 158 t b f;
#X obj 102 219 list;
#X obj 283 461 >=;
#X obj 283 507 t b b;
#X obj 251 132 inlet probabilities;
#X obj 102 129 inlet random number;
#X obj 283 585 outlet selected class;
#X text 75 10 input a list of probabilities and a random number and
output an element from the list.;
#X obj 159 367 + 1;
#X obj 283 557 - 1;
#X connect 0 0 15 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 4 0 21 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 9 0 7 0;
#X connect 9 1 1 1;
#X connect 9 2 6 0;
#X connect 10 0 22 0;
#X connect 11 0 2 1;
#X connect 11 1 10 1;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 13 1 15 1;
#X connect 14 0 9 0;
#X connect 15 0 12 0;
#X connect 16 0 10 0;
#X connect 16 1 8 1;
#X connect 17 0 14 1;
#X connect 18 0 13 0;
#X connect 21 0 11 0;
#X connect 22 0 19 0;
#X restore 107 472 pd probs2element;
#N canvas 582 211 457 400 refine 0;
#X obj 66 237 list split;
#X obj 66 177 t a a;
#X obj 102 197 list length;
#X obj 102 216 - 1;
#X obj 138 263 l2s;
#X obj 156 220 loadbang;
#X msg 156 240 symbol _;
#X msg 138 282 symbol _\$1;
#X obj 66 329 symbol;
#X obj 100 24 inlet list of elements;
#X obj 221 266 inlet past;
#X obj 33 361 outlet;
#X obj 33 24 r \$0-order;
#X obj 33 94 gate 2;
#X obj 33 56 != 0;
#X obj 33 75 + 1;
#X text 84 91 Note: if the order is 0 bypass this object because there
is no past. If the order is higher then use the code below.;
#X obj 66 309 sel xx;
#X obj 221 287 l2s;
#X obj 66 289 l2s;
#X connect 0 0 4 0;
#X connect 0 0 19 0;
#X connect 0 1 8 1;
#X connect 1 0 0 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 8 0 11 0;
#X connect 9 0 13 1;
#X connect 10 0 18 0;
#X connect 12 0 14 0;
#X connect 13 0 11 0;
#X connect 13 1 1 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 17 0 8 0;
#X connect 18 0 17 1;
#X connect 19 0 17 0;
#X restore 288 266 pd refine list;
#X obj 482 619 outlet zfs;
#N canvas 409 442 450 300 split 0;
#X obj 130 77 t a a;
#X obj 187 94 list length;
#X obj 130 132 list split;
#X obj 187 113 - 1;
#X obj 130 47 inlet;
#X obj 94 163 list trim;
#X text 164 45 a list with past and now;
#X obj 186 186 outlet now;
#X obj 94 186 outlet past;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 3 0;
#X connect 2 0 5 0;
#X connect 2 1 7 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X restore 201 537 pd split past now;
#N canvas 314 399 450 300 define 0;
#X obj 37 26 inlet previous past;
#X obj 201 27 inlet previous now;
#X obj 71 179 outlet new past;
#X obj 37 89 list split 1;
#X obj 71 123 list;
#X obj 71 150 list trim;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 201 576 pd define new past;
#X obj 312 623 outlet now;
#X obj 665 593 t a;
#X text 692 591 Feedback the past to generate new elements;
#N canvas 182 161 709 346 generate 0;
#X msg 72 62 32;
#X obj 72 113 until;
#X obj 72 133 random 1000;
#X obj 72 154 * 0.001;
#X obj 161 192 f;
#X obj 188 193 + 1;
#X obj 72 81 t f b;
#X msg 160 105 0;
#X obj 72 175 t f b;
#X obj 72 225 tabwrite \$0-ran32;
#N canvas 0 69 450 300 (subpatch) 0;
#X array \$0-ran32 32 float 0;
#X coords 0 1 31 0 256 50 1 0 0;
#X restore 236 128 graph;
#X obj 88 39 inlet;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 4 0 9 1;
#X connect 5 0 4 1;
#X connect 6 0 1 0;
#X connect 6 1 7 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 8 1 4 0;
#X connect 11 0 0 0;
#X restore 444 49 pd generate new random list;
#N canvas 538 186 783 482 create 0;
#X obj 52 26 inlet;
#N canvas 429 464 450 300 drip 0;
#X obj 32 51 inlet;
#X obj 45 179 outlet;
#X obj 44 90 list split 1;
#X obj 43 116 t b a;
#X obj 83 140 list;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X restore 71 83 pd drip;
#N canvas 383 302 450 300 packel 0;
#X obj 314 28 inlet list;
#X obj 121 27 inlet element;
#X obj 93 115 list split;
#X obj 121 139 list split 1;
#X obj 121 171 outlet;
#X obj 121 49 - 1;
#X obj 157 69 t b f;
#X obj 157 92 list;
#X connect 0 0 7 1;
#X connect 1 0 5 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 5 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X restore 71 178 pd packel;
#N canvas 370 295 644 371 insert 0;
#X obj 180 167 list split;
#X obj 180 129 list;
#X obj 180 102 t b f;
#X obj 21 30 inlet value;
#X obj 425 41 inlet list;
#X obj 197 40 inlet index;
#X obj 208 212 list split 1;
#X obj 221 293 list;
#X msg 209 234 bang;
#X obj 210 261 f;
#X obj 180 316 list;
#X obj 180 342 outlet;
#X obj 21 64 t b f;
#X obj 182 81 f;
#X text 4 13 value that we want to insert;
#X text 184 23 index where we want to insert value;
#X text 429 23 list where we want to transform;
#X connect 0 0 10 0;
#X connect 0 1 6 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 1 0 1;
#X connect 3 0 12 0;
#X connect 4 0 1 1;
#X connect 5 0 13 1;
#X connect 6 0 8 0;
#X connect 6 1 7 1;
#X connect 7 0 10 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 12 1 9 1;
#X connect 13 0 2 0;
#X restore 71 265 pd insert in package;
#X obj 161 161 t a a;
#X obj 71 159 t f f;
#X obj 50 338 outlet;
#X obj 50 295 list;
#X obj 52 47 t b a b;
#X obj 23 194 t b b;
#N canvas 440 464 450 300 normalize 0;
#X obj 43 13 inlet list;
#X obj 43 36 t b a a;
#X obj 204 138 sum;
#X obj 68 86 list split 1;
#X obj 120 127 list;
#X obj 68 109 t b f;
#X obj 95 178 /;
#N canvas 544 469 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 175 145 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X obj 147 115 list prepend;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 1;
#X connect 3 0 8 1;
#X connect 4 0 8 1;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 6 1 5 0;
#X connect 8 0 4 0;
#X connect 8 0 5 1;
#X restore 43 222 pd makelist;
#X obj 46 252 outlet;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 6 1;
#X connect 3 0 5 0;
#X connect 3 1 4 1;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X restore 50 315 pd normalize;
#N canvas 803 405 450 300 zerolist 0;
#X obj 69 22 inlet;
#X obj 153 89 until;
#X obj 69 43 route bang;
#X obj 153 179 list;
#X obj 185 179 list;
#X obj 126 65 t b f;
#X msg 153 115 0;
#X obj 132 208 list;
#X obj 105 120 t b b;
#X obj 132 229 outlet;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 3 0 7 1;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 5 1 1 0;
#X connect 6 0 3 0;
#X connect 7 0 9 0;
#X connect 8 0 3 1;
#X connect 8 1 7 0;
#X restore 161 85 pd zerolist;
#X msg 161 64 256;
#X text 186 62 <<<<<<<<<<<<<<;
#X text 270 62 < 256 elements is the amount of combinations of 8 different
instruments;
#X text 22 8 list of elements that share a same past;
#N canvas 0 98 876 520 2s2f 0;
#X obj 200 19 inlet;
#X obj 400 152 sel a b c d e f g h i j k l m n o p;
#X obj 501 429 outlet;
#X obj 521 276 f;
#X msg 356 215 0;
#X msg 384 215 1;
#X msg 411 216 2;
#X msg 436 217 3;
#X msg 462 217 4;
#X msg 491 216 5;
#X msg 519 215 6;
#X msg 546 215 7;
#X msg 574 214 8;
#X msg 603 215 9;
#X msg 630 215 10;
#X msg 659 216 11;
#X msg 685 216 12;
#X msg 710 217 13;
#X msg 738 217 14;
#X msg 765 217 15;
#X obj 241 64 s2l;
#X obj 256 26 loadbang;
#X obj 127 215 sel a b c d e f g h i j k l m n o p;
#X obj 183 348 f;
#X msg 18 287 0;
#X msg 46 287 1;
#X msg 73 288 2;
#X msg 98 289 3;
#X msg 124 289 4;
#X msg 153 288 5;
#X msg 181 287 6;
#X msg 208 287 7;
#X msg 236 286 8;
#X msg 265 287 9;
#X msg 292 287 10;
#X msg 321 288 11;
#X msg 347 288 12;
#X msg 372 289 13;
#X msg 400 289 14;
#X msg 427 289 15;
#X obj 257 384 * 16;
#X obj 501 410 +;
#X text 435 43 convert a two letter word into a float;
#X obj 201 43 symbol;
#X msg 256 45 symbol;
#X obj 241 111 list split 1;
#X connect 0 0 43 0;
#X connect 1 0 4 0;
#X connect 1 1 5 0;
#X connect 1 2 6 0;
#X connect 1 3 7 0;
#X connect 1 4 8 0;
#X connect 1 5 9 0;
#X connect 1 6 10 0;
#X connect 1 7 11 0;
#X connect 1 8 12 0;
#X connect 1 9 13 0;
#X connect 1 10 14 0;
#X connect 1 11 15 0;
#X connect 1 12 16 0;
#X connect 1 13 17 0;
#X connect 1 14 18 0;
#X connect 1 15 19 0;
#X connect 3 0 41 1;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X connect 12 0 3 0;
#X connect 13 0 3 0;
#X connect 14 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 3 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 45 0;
#X connect 21 0 44 0;
#X connect 22 0 24 0;
#X connect 22 1 25 0;
#X connect 22 2 26 0;
#X connect 22 3 27 0;
#X connect 22 4 28 0;
#X connect 22 5 29 0;
#X connect 22 6 30 0;
#X connect 22 7 31 0;
#X connect 22 8 32 0;
#X connect 22 9 33 0;
#X connect 22 10 34 0;
#X connect 22 11 35 0;
#X connect 22 12 36 0;
#X connect 22 13 37 0;
#X connect 22 14 38 0;
#X connect 22 15 39 0;
#X connect 23 0 40 0;
#X connect 24 0 23 0;
#X connect 25 0 23 0;
#X connect 26 0 23 0;
#X connect 27 0 23 0;
#X connect 28 0 23 0;
#X connect 29 0 23 0;
#X connect 30 0 23 0;
#X connect 31 0 23 0;
#X connect 32 0 23 0;
#X connect 33 0 23 0;
#X connect 34 0 23 0;
#X connect 35 0 23 0;
#X connect 36 0 23 0;
#X connect 37 0 23 0;
#X connect 38 0 23 0;
#X connect 39 0 23 0;
#X connect 40 0 41 0;
#X connect 41 0 2 0;
#X connect 43 0 20 0;
#X connect 44 0 20 1;
#X connect 45 0 22 0;
#X connect 45 1 1 0;
#X restore 71 131 pd 2s2f;
#X text 120 129 convert dictionary to float (index of the list);
#X obj 71 203 + 1;
#X connect 0 0 8 0;
#X connect 1 0 16 0;
#X connect 2 0 18 0;
#X connect 3 0 4 0;
#X connect 3 0 7 1;
#X connect 4 0 2 1;
#X connect 4 1 3 2;
#X connect 5 0 2 0;
#X connect 5 1 3 1;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 8 1 1 0;
#X connect 8 2 12 0;
#X connect 9 0 7 1;
#X connect 9 1 7 0;
#X connect 10 0 6 0;
#X connect 11 0 4 0;
#X connect 12 0 11 0;
#X connect 16 0 5 0;
#X connect 18 0 3 0;
#X restore 225 307 pd create probabilities;
#X text 366 306 <- given the past this is the resulting probabilities
table;
#N canvas 701 459 450 300 zfs 0;
#X obj 9 9 inlet;
#X obj 44 142 outlet;
#N canvas 803 405 450 300 zerolist 0;
#X obj 69 22 inlet;
#X obj 153 89 until;
#X obj 69 43 route bang;
#X obj 153 179 list;
#X obj 185 179 list;
#X obj 126 65 t b f;
#X msg 153 115 0;
#X obj 132 208 list;
#X obj 105 120 t b b;
#X obj 132 229 outlet;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 3 0 7 1;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 5 1 1 0;
#X connect 6 0 3 0;
#X connect 7 0 9 0;
#X connect 8 0 3 1;
#X connect 8 1 7 0;
#X restore 20 82 pd zerolist;
#X msg 20 61 256;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X restore 225 433 pd zfs;
#X obj 56 286 f;
#X obj 56 584 f;
#X obj 312 601 list;
#X text 310 641 step and dictionary hit;
#X obj 409 169 sel 0;
#X obj 216 338 cnv 15 130 60 empty empty empty 20 12 0 14 -257985 -66577
0;
#X text 346 353 <- Here we apply the transfromations for the probabilities
tables;
#X obj 339 13 inlet;
#X obj 339 89 until;
#X msg 339 70 32;
#X obj 339 108 f;
#X obj 363 108 + 1;
#X msg 383 82 0;
#X obj 197 31 r \$0-apply-transform;
#X obj 339 32 t b b;
#X obj 339 51 t b b;
#X obj 339 128 t f f f;
#X obj 604 189 f;
#X text 229 492 convert float to dictionary;
#X obj 201 494 f2s2;
#X obj 306 557 t s s;
#N canvas 401 318 694 374 first 0;
#X text 118 86 INDEX;
#X obj 92 142 t f f;
#X obj 233 159 tabread \$0-ran32;
#X obj 92 162 coll \$0-knowledge;
#C restore;
#N canvas 496 462 579 300 random 0;
#X obj 33 28 inlet lista;
#X obj 195 22 inlet random number;
#X obj 61 247 outlet;
#X obj 33 50 t a a;
#X obj 60 71 list length;
#X obj 90 135 *;
#X obj 90 154 int;
#X obj 33 198 list split;
#X obj 61 220 list split 1;
#X obj 90 175 - 1;
#X obj 60 92 + 1.25;
#X text 179 129 great object! see where the random numebr fits within
all the possible elements of the list. the random number is nomalized
to the total number of elements of the list;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 7 0;
#X connect 3 1 4 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 2 0;
#X connect 9 0 7 1;
#X connect 10 0 5 0;
#X restore 92 182 pd random list 2 element;
#N canvas 437 462 450 300 split 0;
#X obj 130 77 t a a;
#X obj 187 94 list length;
#X obj 130 132 list split;
#X obj 187 113 - 1;
#X obj 130 57 inlet;
#X obj 130 233 outlet;
#X obj 158 173 outlet;
#X obj 130 210 list trim;
#X obj 158 154 s2l;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 2 1 8 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X restore 92 293 pd split past now;
#N canvas 315 287 562 451 element2list 0;
#X obj 103 125 s2l;
#X msg 118 106 symbol;
#X obj 118 87 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 162 30 Convert a wrapped element of the knowledge database
into its elements.;
#X text 190 101 expand the elements (insert spaces inbetween letters)
;
#X text 194 164 make groups of two letters (each two letters are a
pattern);
#X text 209 225 pack them up again;
#X text 124 356 ouput a list with all the pairs;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 92 226 pd element2list;
#X text 196 209 this is an element of the "index" step. It defines
the now element at the index and the past which length is the markov
order.;
#X obj 92 67 inlet bang;
#X msg 92 87 0;
#X obj 92 331 outlet;
#X text 133 331 outlet the past that generates a starting element;
#X text 206 293 extract the possible pasts;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 10 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X restore 409 188 pd first past;
#X msg 262 92 bang;
#X msg 212 64 bang;
#X text 391 128 <<<<<<<steps;
#X obj 237 153 t f f b f;
#N canvas 49 406 1118 389 transformations 0;
#X obj 57 162 inlet;
#X obj 541 352 outlet;
#X obj 116 161 r \$0-commonness;
#N canvas 781 269 475 491 commonness 0;
#N canvas 715 412 389 266 normalize 0;
#X obj 167 49 inlet;
#X obj 167 70 t b a a;
#X obj 209 102 sum;
#N canvas 850 273 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 39 76 list split 1;
#X obj 79 124 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 186 120 pd drip;
#X obj 186 145 /;
#N canvas 760 464 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 123 187 pd makelist;
#X obj 124 212 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 128 408 pd normalize;
#N canvas 844 269 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 46 49 list split 1;
#X obj 90 143 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 191 293 pd drip;
#N canvas 758 469 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 128 387 pd makelist;
#X obj 264 208 t b f;
#X obj 134 244 list;
#X obj 128 108 t a a;
#X obj 246 153 * 10;
#X obj 191 344 expr pow($f1 \, $f2);
#X obj 128 79 inlet lista;
#X obj 246 35 inlet commonnness value;
#X obj 128 432 outlet;
#X obj 285 153 * 45;
#X obj 246 134 * -1;
#X obj 246 96 abs;
#X obj 285 134 pow 3;
#X obj 246 115 pow 3;
#X obj 296 292 f;
#X obj 128 267 t b a b;
#X obj 191 365 clip 0 100;
#X obj 246 76 moses 0;
#X obj 245 56 + 0.01;
#X connect 0 0 10 0;
#X connect 1 0 7 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 1 16 0;
#X connect 4 0 17 0;
#X connect 5 0 17 0;
#X connect 5 1 4 1;
#X connect 6 0 3 0;
#X connect 7 0 18 0;
#X connect 8 0 5 0;
#X connect 9 0 20 0;
#X connect 11 0 3 0;
#X connect 12 0 6 0;
#X connect 13 0 15 0;
#X connect 14 0 11 0;
#X connect 15 0 12 0;
#X connect 16 0 7 1;
#X connect 17 0 2 0;
#X connect 17 1 1 0;
#X connect 17 2 16 0;
#X connect 18 0 2 1;
#X connect 19 0 13 0;
#X connect 19 1 14 0;
#X connect 20 0 19 0;
#X restore 57 223 pd commonness b;
#X obj 116 180 t b f;
#X text 153 179 first update the commonness value and then generate
the new pattern.;
#N canvas 661 337 450 420 density 0;
#X obj 48 17 inlet;
#X obj 318 40 inlet;
#X text 44 2 list;
#X text 310 23 density value;
#X obj 148 302 outlet;
#X text 151 320 density value;
#X obj 174 55 list split 1;
#N canvas 715 412 389 266 normalize 0;
#X obj 167 49 inlet;
#X obj 167 70 t b a a;
#X obj 209 102 sum;
#N canvas 850 273 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 39 76 list split 1;
#X obj 79 124 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 186 120 pd drip;
#X obj 186 145 /;
#N canvas 760 464 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 123 187 pd makelist;
#X obj 124 212 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 148 256 pd normalize;
#N canvas 844 269 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 46 49 list split 1;
#X obj 90 143 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 251 82 pd drip;
#N canvas 756 474 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 194 161 pd makelist;
#X obj 251 118 *;
#X obj 148 232 list append;
#X obj 122 34 t b b a;
#X obj 148 160 f;
#X obj 163 132 *;
#X obj 313 133 abs;
#X obj 313 113 - 1;
#X obj 313 85 f;
#X connect 0 0 12 0;
#X connect 1 0 17 0;
#X connect 6 0 14 0;
#X connect 6 1 8 0;
#X connect 7 0 4 0;
#X connect 8 0 10 0;
#X connect 9 0 11 1;
#X connect 10 0 9 1;
#X connect 11 0 7 0;
#X connect 12 0 13 0;
#X connect 12 1 9 0;
#X connect 12 2 6 0;
#X connect 13 0 11 0;
#X connect 14 0 13 1;
#X connect 15 0 14 1;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 17 0 10 1;
#X restore 773 313 pd density a;
#X obj 599 123 r \$0-density;
#X obj 598 143 t b f;
#X obj 25 200 s \$0-apply-transform;
#X obj 506 163 s \$0-apply-transform;
#X text 637 146 first update the density value and then generate the
new pattern;
#N canvas 375 423 450 294 density 0;
#N canvas 657 309 450 420 density 0;
#X obj 48 17 inlet;
#X obj 313 40 inlet;
#X text 44 2 list;
#X text 305 23 density value;
#X obj 146 302 outlet;
#X text 149 320 density value;
#X obj 161 56 list split 1;
#N canvas 715 412 389 266 normalize 0;
#X obj 167 49 inlet;
#X obj 167 70 t b a a;
#X obj 209 102 sum;
#N canvas 850 273 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 39 76 list split 1;
#X obj 79 124 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 186 120 pd drip;
#X obj 186 145 /;
#N canvas 760 464 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 123 187 pd makelist;
#X obj 124 212 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 146 256 pd normalize;
#N canvas 844 269 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 46 49 list split 1;
#X obj 90 143 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 255 82 pd drip;
#N canvas 756 474 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 192 161 pd makelist;
#X obj 255 118 *;
#X obj 146 232 list append;
#X obj 122 34 t b b a;
#X obj 146 160 f;
#X obj 161 132 *;
#X obj 313 133 abs;
#X obj 313 113 - 1;
#X obj 313 85 f;
#X connect 0 0 12 0;
#X connect 1 0 17 0;
#X connect 6 0 14 0;
#X connect 6 1 8 0;
#X connect 7 0 4 0;
#X connect 8 0 10 0;
#X connect 9 0 11 1;
#X connect 10 0 9 1;
#X connect 11 0 7 0;
#X connect 12 0 13 0;
#X connect 12 1 9 0;
#X connect 12 2 6 0;
#X connect 13 0 11 0;
#X connect 14 0 13 1;
#X connect 15 0 14 1;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 17 0 10 1;
#X restore 93 212 pd density a;
#X obj 93 154 - 0.5;
#X obj 93 173 * 2;
#X obj 93 235 outlet;
#X obj 93 71 inlet probs;
#X obj 93 135 f;
#X obj 93 92 t b a;
#X obj 280 94 t f f;
#X obj 280 75 inlet density value;
#X obj 93 193 sigmoid;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 9 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 6 1 9 1;
#X connect 7 0 5 1;
#X connect 7 1 0 1;
#X connect 8 0 7 0;
#X connect 9 0 0 0;
#X restore 851 313 pd density b;
#N canvas 314 173 450 493 syncopation 0;
#X obj 72 238 until;
#X msg 72 218 32;
#X obj 72 198 t b b;
#X obj 72 259 f;
#X obj 96 259 + 1;
#X msg 110 238 0;
#X obj 72 181 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-syncd-a 32 float 2;
#X coords 0 1 32 0 200 50 1 0 0;
#X restore 232 361 graph;
#X obj 72 278 t f f;
#X obj 72 297 % 2;
#X obj 199 156 t b f;
#X obj 72 336 f;
#X obj 115 338 f;
#X obj 277 274 - 1;
#X obj 276 293 abs;
#X obj 226 204 moses 0.5;
#X obj 226 255 * 2;
#X obj 276 316 * 2;
#X msg 230 290 1;
#X msg 238 312 1;
#X obj 72 316 sel 1 0;
#X obj 199 136 inlet syncopation value;
#X obj 95 361 tabwrite \$0-syncd-a;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 2 0;
#X connect 8 0 9 0;
#X connect 8 1 22 1;
#X connect 9 0 20 0;
#X connect 10 0 6 0;
#X connect 10 1 15 0;
#X connect 11 0 22 0;
#X connect 12 0 22 0;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 15 1 13 0;
#X connect 16 0 11 1;
#X connect 16 0 18 0;
#X connect 17 0 12 1;
#X connect 17 0 19 0;
#X connect 18 0 12 1;
#X connect 19 0 11 1;
#X connect 20 0 11 0;
#X connect 20 1 12 0;
#X connect 21 0 10 0;
#X restore 628 67 pd syncopation a;
#X obj 602 29 r \$0-syncopation;
#X text 703 38 syncopation is written in a table called \$0-syncd which
should be multiplied step by step with the density;
#X obj 610 229 inlet step;
#X text 705 210 multiply the density value on the syncoipation table
with the density that comes from the slider;
#X obj 610 284 *;
#X obj 601 48 t b f;
#X obj 601 86 s \$0-apply-transform;
#X obj 610 248 tabread \$0-syncd-a;
#N canvas 715 412 389 266 normalize 0;
#X obj 167 49 inlet;
#X obj 167 70 t b a a;
#X obj 209 102 sum;
#N canvas 850 273 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 39 76 list split 1;
#X obj 79 124 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 186 120 pd drip;
#X obj 186 145 /;
#N canvas 760 464 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 123 187 pd makelist;
#X obj 124 212 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 541 330 pd normalize;
#N canvas 28 210 772 589 density 0;
#X obj 397 153 t b a b;
#X obj 375 360 pow;
#X obj 272 310 - 1;
#X obj 272 330 abs;
#X obj 453 401 list;
#X obj 354 423 list;
#X obj 375 401 list prepend;
#X obj 166 113 list split 1;
#X msg 479 288 1;
#X obj 479 231 sel 0 4 10;
#X obj 416 329 *;
#X msg 535 288 1;
#X text 562 289 change this value progressively;
#X obj 166 482 list;
#X obj 139 85 t b a;
#X obj 139 505 list;
#X obj 139 525 outlet;
#X obj 139 66 inlet lista;
#N canvas 631 285 450 300 listdrip 0;
#X obj 260 227 outlet f;
#X obj 91 76 list split 1;
#X obj 60 191 list;
#X obj 77 155 t b f b;
#X obj 144 117 f;
#X obj 170 117 + 1;
#X msg 190 68 0;
#X obj 80 30 inlet list;
#X obj 80 51 t a b;
#X obj 89 229 outlet element;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 9 0;
#X connect 3 2 4 0;
#X connect 4 0 5 0;
#X connect 4 0 0 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 8 1 6 0;
#X restore 416 179 pd listdrip;
#N canvas 583 401 450 300 dens2silence 0;
#X obj 310 23 inlet density;
#X obj 84 16 inlet probabilty of silence;
#X obj 156 250 outlet new silence probability;
#X obj 135 152 - 1;
#X obj 135 171 abs;
#X obj 120 220 +;
#X obj 120 197 *;
#X obj 61 153 * -1;
#X obj 61 131 moses 0;
#X obj 171 200 +;
#X obj 162 175 *;
#X obj 133 130 t f f f f;
#X obj 102 157 * -1;
#X obj 61 75 f;
#X obj 84 45 t b f;
#X connect 0 0 13 1;
#X connect 1 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 6 1;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 8 1 12 0;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 3 0;
#X connect 11 1 5 1;
#X connect 11 2 10 1;
#X connect 11 3 9 1;
#X connect 12 0 10 0;
#X connect 13 0 8 0;
#X connect 14 0 13 0;
#X connect 14 1 11 0;
#X restore 166 330 pd dens2silence;
#X obj 253 192 t f f f;
#X obj 479 312 +;
#X obj 507 312 +;
#X obj 535 312 +;
#X obj 293 227 moses 0;
#X obj 293 283 * 1;
#X obj 317 284 * 3;
#X obj 352 285 * 6;
#X obj 253 83 inlet valor de density;
#X obj 253 104 moses 0;
#X obj 253 123 abs;
#X obj 253 162 * -1;
#X obj 253 142 pow 3;
#X obj 306 151 * 0.25;
#X msg 507 288 1;
#X obj 552 251 clip 0 0.3;
#X obj 623 248 clip 0 0.6;
#X obj 686 233 clip 0 1;
#X obj 552 271 * 1;
#X obj 623 269 * 10;
#X obj 687 265 * 50;
#X connect 0 0 5 0;
#X connect 0 1 18 0;
#X connect 0 2 6 1;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 6 1;
#X connect 5 0 13 1;
#X connect 6 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 19 0;
#X connect 7 1 0 0;
#X connect 8 0 21 0;
#X connect 9 0 8 0;
#X connect 9 1 34 0;
#X connect 9 2 11 0;
#X connect 10 0 1 0;
#X connect 11 0 23 0;
#X connect 13 0 15 1;
#X connect 14 0 15 0;
#X connect 14 1 7 0;
#X connect 15 0 16 0;
#X connect 17 0 14 0;
#X connect 18 0 10 0;
#X connect 18 1 9 0;
#X connect 19 0 13 0;
#X connect 20 0 19 1;
#X connect 20 1 2 0;
#X connect 20 2 24 0;
#X connect 21 0 10 1;
#X connect 22 0 10 1;
#X connect 23 0 10 1;
#X connect 24 0 25 0;
#X connect 24 0 26 0;
#X connect 24 0 27 0;
#X connect 24 1 35 0;
#X connect 24 1 36 0;
#X connect 24 1 37 0;
#X connect 25 0 21 1;
#X connect 26 0 22 1;
#X connect 27 0 23 1;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 1 33 0;
#X connect 30 0 32 0;
#X connect 31 0 20 0;
#X connect 32 0 31 0;
#X connect 33 0 20 0;
#X connect 34 0 22 0;
#X connect 35 0 38 0;
#X connect 36 0 39 0;
#X connect 37 0 40 0;
#X connect 38 0 21 1;
#X connect 39 0 22 1;
#X connect 40 0 23 1;
#X restore 541 311 pd density c;
#X connect 0 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 23 0;
#X connect 4 0 9 0;
#X connect 4 1 3 1;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 8 1 18 1;
#X connect 14 0 19 0;
#X connect 16 0 21 0;
#X connect 18 0 23 1;
#X connect 19 0 20 0;
#X connect 19 1 13 0;
#X connect 21 0 18 0;
#X connect 22 0 1 0;
#X connect 23 0 22 0;
#X restore 225 359 pd transformations;
#X connect 0 0 2 0;
#X connect 1 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 8 0;
#X connect 4 0 11 0;
#X connect 5 0 9 1;
#X connect 5 1 4 1;
#X connect 6 0 17 0;
#X connect 7 0 19 0;
#X connect 7 0 10 0;
#X connect 7 1 8 1;
#X connect 8 0 39 0;
#X connect 9 0 6 1;
#X connect 11 0 12 0;
#X connect 11 1 40 0;
#X connect 12 0 14 0;
#X connect 14 0 5 0;
#X connect 17 0 46 0;
#X connect 19 0 8 1;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 13 0;
#X connect 24 0 41 0;
#X connect 27 0 34 0;
#X connect 28 0 30 0;
#X connect 29 0 28 0;
#X connect 30 0 31 0;
#X connect 30 0 36 0;
#X connect 31 0 30 1;
#X connect 32 0 30 1;
#X connect 33 0 35 0;
#X connect 34 0 35 0;
#X connect 34 1 16 0;
#X connect 35 0 29 0;
#X connect 35 1 32 0;
#X connect 36 0 45 0;
#X connect 36 1 24 0;
#X connect 36 2 37 0;
#X connect 37 0 46 1;
#X connect 39 0 4 0;
#X connect 40 0 12 1;
#X connect 40 1 22 1;
#X connect 41 0 5 0;
#X connect 42 0 30 0;
#X connect 43 0 35 0;
#X connect 45 0 20 0;
#X connect 45 1 3 0;
#X connect 45 2 6 0;
#X connect 45 3 0 0;
#X connect 46 0 7 0;
#X restore 46 396 pd search next now;
#N canvas 331 304 562 451 element2list 0;
#X obj 103 145 s2l;
#X msg 118 126 symbol;
#X obj 118 107 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 216 104 Convert a wrapped element of the knowledge database
into its elements.;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 468 598 pd element2list;
#X obj 151 436 print ZFS;
#N canvas 559 499 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 241 138 list;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 269 168 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X restore 395 598 pd makelist;
#X obj 151 419 bng 15 250 50 0 nos nor empty 17 7 0 10 -262144 -1 -1
;
#X obj 301 201 cnv 15 228 150 empty \$0-style select a drumming style
10 10 1 20 -233017 -66577 0;
#N canvas 527 97 643 300 pace 0;
#X obj 111 -127 f;
#X obj 155 -126 + 1;
#X obj 111 -180 t f f;
#X obj 171 -163 sel 1;
#X msg 171 -144 0;
#X obj 111 -160 metro 100;
#X obj 234 -231 bpm;
#X obj 33 -42 s numberz16;
#X obj 33 -60 % 16;
#X obj 111 -263 r start-drumz;
#X obj 234 -251 r bpm;
#X obj 111 -103 t f f;
#X obj 316 -140 t b f;
#X obj 234 -195 + 0;
#X obj 397 -178 t f f;
#X obj 423 -144 * -1;
#X obj 316 -227 % 8;
#X obj 316 -200 moses 4;
#X obj 361 -180 - 4;
#X obj 316 -168 *;
#X obj 361 -161 *;
#X obj 111 -77 % 32;
#X obj 111 -25 outlet;
#X obj 397 -201 inlet;
#X obj 154 -25 s numberz32;
#X obj 111 -58 t f f;
#X connect 0 0 1 0;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 2 0 5 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 1;
#X connect 5 0 0 0;
#X connect 6 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 10 0 6 0;
#X connect 11 0 8 0;
#X connect 11 0 21 0;
#X connect 11 1 16 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 5 1;
#X connect 14 0 20 1;
#X connect 14 1 15 0;
#X connect 15 0 19 1;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 18 0 20 0;
#X connect 19 0 12 0;
#X connect 20 0 12 0;
#X connect 21 0 25 0;
#X connect 23 0 14 0;
#X connect 25 0 22 0;
#X connect 25 1 24 0;
#X restore 783 412 pd pace;
#X obj 783 334 vsl 15 70 0 5 0 1 nos nor groove 0 -9 0 10 -262144 -1
-1 0 1;
#X obj 303 224 vradio 20 1 1 6 nos nor empty 0 -8 0 10 -262144 -66577
-1 3;
#X obj 325 224 cnv 15 90 20 empty empty Motown 0 12 1 14 -66577 -228856
0;
#X obj 325 244 cnv 15 90 20 empty empty JamesBrown 0 12 1 14 -66577
-228856 0;
#X obj 325 264 cnv 15 90 20 empty empty Clyde1 0 12 1 14 -66577 -228856
0;
#X obj 325 284 cnv 15 90 20 empty empty funkyfresh 0 12 1 14 -66577
-228856 0;
#N canvas 397 238 635 300 makename 0;
#X obj 46 22 inlet;
#X obj 57 273 outlet;
#X msg 309 235 midi/\$1.mid;
#X obj 309 216 symbol;
#X msg 169 168 motown;
#X msg 285 165 clyde1;
#X msg 215 168 jamesbrown;
#X msg 439 207 hiphop;
#X msg 330 168 funkyfresh;
#X obj 260 84 sel 0 1 2 3 4 5;
#X msg 456 167 garagehouse1_snare;
#X msg 399 167 daftpunk;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 9 2 5 0;
#X connect 9 3 8 0;
#X connect 9 4 11 0;
#X connect 9 5 10 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X restore 46 249 pd makename;
#N canvas 342 397 860 300 setup 0;
#X obj 72 176 f \$0;
#X obj 87 198 list;
#X obj 631 179 f \$0;
#X obj 653 204 list;
#X msg 653 227 \; \$1-style label \$2;
#X obj 631 157 t b a;
#X obj 632 132 l2s;
#X obj 72 154 t b a;
#X msg 86 217 \; \$1-style vis_size \$2 \$3;
#X obj 230 171 f \$0;
#X obj 245 193 list;
#X obj 230 149 t b a;
#X obj 420 167 f \$0;
#X obj 435 189 list;
#X obj 420 145 t b a;
#X msg 420 126 1 20;
#X msg 438 213 \; \$1-style label_font \$2 \$3;
#X msg 245 214 \; \$1-style label_pos \$2 \$3;
#X msg 230 130 10 10;
#X msg 632 111 select a drumming style;
#X obj 168 93 loadbang;
#X msg 72 135 228 150;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X connect 5 1 3 1;
#X connect 6 0 5 0;
#X connect 7 0 0 0;
#X connect 7 1 1 1;
#X connect 9 0 10 0;
#X connect 10 0 17 0;
#X connect 11 0 9 0;
#X connect 11 1 10 1;
#X connect 12 0 13 0;
#X connect 13 0 16 0;
#X connect 14 0 12 0;
#X connect 14 1 13 1;
#X connect 15 0 14 0;
#X connect 18 0 11 0;
#X connect 19 0 6 0;
#X connect 20 0 21 0;
#X connect 20 0 18 0;
#X connect 20 0 15 0;
#X connect 20 0 19 0;
#X connect 21 0 7 0;
#X restore 162 609 pd setup;
#N canvas 398 135 816 640 analyse 0;
#X obj 105 23 inlet;
#X text 25 -1 info from file;
#X msg 355 131 read \$1;
#X obj 355 112 symbol;
#X obj 245 159 mrpeach/midifile;
#X msg 245 131 verbose 0;
#X obj 146 111 until;
#X msg 309 131 rewind;
#X obj 338 178 route bang ticks_per_quarternote end;
#X obj 146 135 t b b;
#X obj 409 236 / 4;
#X obj 146 68 t b b b a b;
#X msg 512 126 0;
#X obj 146 274 sel 0;
#N canvas 719 390 450 300 sel 0;
#X obj 22 18 inlet midi stream;
#X obj 272 23 inlet channel number;
#X obj 24 210 outlet onset notes;
#X obj 24 49 route 144 153;
#X text 109 51 <- MIDI channel 1 or 10;
#X text 41 32 only onsets;
#X obj 24 179 list split 1;
#X text 102 178 <- only notes;
#X obj 57 106 == 1;
#X obj 99 106 == 10;
#X obj 24 124 spigot;
#X obj 61 125 spigot;
#X connect 0 0 3 0;
#X connect 1 0 9 0;
#X connect 1 0 8 0;
#X connect 3 0 10 0;
#X connect 3 1 11 0;
#X connect 6 0 2 0;
#X connect 8 0 10 1;
#X connect 9 0 11 1;
#X connect 10 0 6 0;
#X connect 11 0 6 0;
#X restore 245 325 pd sel midi channel;
#X obj 356 309 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 10 256;
#X obj 280 283 * 4;
#X obj 280 266 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 8 256;
#X obj 105 42 t b a;
#X obj 20 376 f;
#X obj 146 458 list split 1;
#X obj 20 395 -;
#X obj 20 414 abs;
#X obj 53 452 - 1;
#X obj 53 471 until;
#X obj 20 433 sel 32;
#X text 370 291 chanel;
#X text 284 251 beats;
#N canvas 650 468 450 300 mod 0;
#X obj 45 181 outlet;
#X obj 45 115 f;
#X obj 69 115 + 1;
#X obj 45 141 %;
#X obj 45 69 inlet bang;
#X obj 125 68 inlet reset;
#X obj 213 70 inlet modulus;
#X msg 125 88 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 3 1;
#X connect 7 0 1 1;
#X restore 146 253 pd mod;
#N canvas 47 205 450 300 index 0;
#X obj 149 136 list;
#X obj 181 136 list;
#X obj 128 203 list;
#X obj 47 63 t b f b;
#X obj 47 38 inlet index;
#X obj 149 59 inlet element;
#X obj 128 231 outlet list;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 3 1 2 0;
#X connect 3 2 0 1;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X restore 146 392 pd index the list;
#X obj 146 432 t a a;
#N canvas 642 488 450 300 mod 0;
#X obj 45 181 outlet;
#X obj 45 115 f;
#X obj 69 115 + 1;
#X obj 45 159 %;
#X obj 45 69 inlet bang;
#X obj 125 68 inlet reset;
#X obj 213 70 inlet modulus;
#X msg 125 88 0;
#X obj 231 180 outlet total counts;
#X obj 44 136 t f f;
#X connect 1 0 2 0;
#X connect 1 0 9 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 3 1;
#X connect 7 0 1 1;
#X connect 9 0 3 0;
#X connect 9 1 8 0;
#X restore 146 300 pd mod;
#X obj 239 469 list split 1;
#X text 306 528 convert the list to dictionary;
#X obj 338 198 t b b;
#X obj 623 461 f;
#X obj 623 484 /;
#X obj 623 503 int;
#X obj 623 524 + 1;
#X text 652 465 rounded size;
#X obj 623 566 *;
#X obj 666 441 t f f;
#X obj 623 544 t f f;
#X obj 623 603 outlet total elements;
#X obj 413 449 t f f;
#X obj 394 592 outlet index dictionary;
#N canvas 593 287 435 143 note 0;
#X obj 159 21 inlet;
#X obj 159 96 outlet;
#X msg 159 72 1;
#X msg 188 72 2;
#X msg 217 72 3;
#X msg 247 72 4;
#X obj 159 45 sel 35 36 38 40 42 46 47;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 6 1 2 0;
#X connect 6 2 3 0;
#X connect 6 3 3 0;
#X connect 6 4 4 0;
#X connect 6 5 5 0;
#X connect 6 6 5 0;
#X restore 365 358 pd note to hit;
#N canvas 776 440 450 202 if 0;
#X obj 59 28 inlet;
#X obj 72 133 outlet;
#X obj 59 50 list split 1;
#X obj 72 114 list;
#X obj 93 70 route bang;
#X msg 93 89 0;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 3 1;
#X connect 5 0 3 1;
#X restore 239 449 pd if list is empty output 0;
#X msg 394 572 \$2 \$1;
#X text 240 574 mod index dictionary;
#X text 651 560 total patterns;
#X obj 273 510 l2d2;
#N canvas 551 173 584 585 binarize 0;
#X obj 10 67 inlet;
#X obj 44 313 outlet;
#X msg 26 159 1;
#X msg 53 159 1;
#X msg 80 159 1;
#X msg 107 159 1;
#X msg 303 155 0;
#N canvas 825 433 450 300 drip 0;
#X obj 90 75 list split 1;
#X obj 90 96 t b f;
#X obj 127 121 list;
#X obj 90 45 inlet;
#X obj 117 176 outlet;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X restore 29 107 pd drip;
#X text 30 46 index and list;
#X text 26 13 convert simultaneous patterns into a diccionary;
#X text 25 331 output the id of the pattern;
#X obj 10 86 t b a b;
#X obj 10 287 list split 1;
#X obj 29 127 sel 1 2 3 4 5 6 7 8;
#X obj 10 265 pack f f f f f f f f f;
#X msg 134 159 1;
#X msg 162 159 1;
#X msg 189 159 1;
#X msg 216 159 1;
#X connect 0 0 11 0;
#X connect 2 0 14 1;
#X connect 3 0 14 2;
#X connect 4 0 14 3;
#X connect 5 0 14 4;
#X connect 6 0 14 3;
#X connect 6 0 14 2;
#X connect 6 0 14 1;
#X connect 6 0 14 4;
#X connect 6 0 14 5;
#X connect 6 0 14 6;
#X connect 6 0 14 7;
#X connect 6 0 14 8;
#X connect 7 0 13 0;
#X connect 11 0 14 0;
#X connect 11 1 7 0;
#X connect 11 2 6 0;
#X connect 12 1 1 0;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X connect 13 2 4 0;
#X connect 13 3 5 0;
#X connect 13 4 15 0;
#X connect 13 5 16 0;
#X connect 13 6 17 0;
#X connect 13 7 18 0;
#X connect 14 0 12 0;
#X connect 15 0 14 5;
#X connect 16 0 14 6;
#X connect 17 0 14 7;
#X connect 18 0 14 8;
#X restore 273 489 pd binarize;
#X obj 273 530 t s s;
#X obj 393 553 pack s f;
#X obj 239 559 pack f s;
#N canvas 567 352 526 229 note 0;
#X obj 187 47 inlet;
#X obj 355 192 outlet;
#X msg 139 135 1;
#X msg 209 135 2;
#X msg 263 134 3;
#X msg 316 135 4;
#X text 94 16 kick: 35 36 snare: 38 40 ch: 42 oh: 44 46 clap: 39 rimshot
37;
#X text 111 133 kick;
#X text 174 132 snare;
#X text 245 129 ch;
#X text 373 49 sometimes oh in 47;
#X text 372 37 NOTE:::::::;
#X text 297 130 oh;
#X msg 378 133 5;
#X text 350 132 clap;
#X msg 450 132 6;
#X obj 187 73 sel 35 36 38 40 42 46 47 44 39 37;
#X text 403 131 rimshot;
#X connect 0 0 16 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 13 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 2 0;
#X connect 16 1 2 0;
#X connect 16 2 3 0;
#X connect 16 3 3 0;
#X connect 16 4 4 0;
#X connect 16 5 5 0;
#X connect 16 6 5 0;
#X connect 16 7 5 0;
#X connect 16 8 13 0;
#X connect 16 9 15 0;
#X restore 245 351 pd note to hit;
#X connect 0 0 18 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 14 0;
#X connect 4 2 8 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 4 0;
#X connect 8 0 34 0;
#X connect 8 1 10 0;
#X connect 9 0 28 0;
#X connect 9 1 4 0;
#X connect 10 0 28 2;
#X connect 11 0 6 0;
#X connect 11 1 5 0;
#X connect 11 2 7 0;
#X connect 11 3 3 0;
#X connect 11 4 12 0;
#X connect 12 0 28 1;
#X connect 12 0 31 1;
#X connect 13 0 31 0;
#X connect 14 0 56 0;
#X connect 15 0 14 1;
#X connect 16 0 21 1;
#X connect 16 0 31 2;
#X connect 16 0 41 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 18 1 11 0;
#X connect 19 0 21 0;
#X connect 20 0 19 1;
#X connect 21 0 22 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 31 0;
#X connect 25 1 23 0;
#X connect 28 0 13 0;
#X connect 29 0 30 0;
#X connect 30 0 20 0;
#X connect 30 1 47 0;
#X connect 31 0 29 0;
#X connect 31 1 44 0;
#X connect 32 0 55 0;
#X connect 32 1 52 0;
#X connect 34 0 6 1;
#X connect 34 1 35 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 42 0;
#X connect 40 0 43 0;
#X connect 41 0 36 1;
#X connect 41 1 40 1;
#X connect 42 0 40 0;
#X connect 44 0 54 1;
#X connect 44 1 35 1;
#X connect 47 0 32 0;
#X connect 48 0 45 0;
#X connect 51 0 53 0;
#X connect 52 0 51 0;
#X connect 53 0 55 1;
#X connect 53 1 54 0;
#X connect 54 0 48 0;
#X connect 56 0 29 1;
#X restore 80 298 pd analyse;
#N canvas 102 161 1043 549 patt2sound 0;
#X obj 89 134 sel 1;
#X obj 169 150 sel 1;
#X obj 253 150 sel 1;
#X obj 343 149 sel 1;
#X text 675 12 randomize hit strength->;
#X obj 89 114 tabread kick;
#X obj 169 114 tabread snare;
#X obj 253 114 tabread chihat;
#X obj 343 114 tabread ohihat;
#X obj 241 46 + 1;
#X obj 293 15 inlet;
#X obj 86 156 s playk;
#X obj 168 173 s plays;
#X obj 253 196 s playch;
#X obj 343 187 s playoh;
#X obj 479 147 sel 1;
#X obj 418 62 t f f f f f f f f;
#X obj 479 112 tabread clap;
#X obj 559 147 sel 1;
#X obj 559 112 tabread rimshot;
#X obj 482 252 s playcp;
#X obj 565 251 s playrs;
#X connect 0 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 13 0;
#X connect 3 0 14 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 16 0;
#X connect 10 0 9 0;
#X connect 15 0 20 0;
#X connect 16 0 5 0;
#X connect 16 1 6 0;
#X connect 16 2 7 0;
#X connect 16 3 8 0;
#X connect 16 4 17 0;
#X connect 16 5 19 0;
#X connect 17 0 15 0;
#X connect 18 0 21 0;
#X connect 19 0 18 0;
#X restore 51 529 pd patt2sound;
#N canvas 24 192 581 423 patt2sequencer 0;
#X obj 234 26 inlet;
#X obj 100 169 pack;
#X obj 100 323 s kick-allocate;
#X obj 130 169 pack;
#X obj 130 304 s snare-allocate;
#X obj 160 226 pack;
#X obj 160 288 s chihat-allocate;
#X obj 234 225 pack;
#X obj 241 269 s ohihat-allocate;
#X obj 268 70 d22l;
#X obj 234 49 list split 1;
#X obj 234 90 list;
#X obj 234 112 unpack f f f f f f f f f;
#X obj 287 170 pack;
#X obj 287 248 s clap-allocate;
#X obj 320 170 pack;
#X obj 320 228 s rimshot-allocate;
#X obj 352 169 pack;
#X obj 352 208 s loconga-allocate;
#X obj 383 169 pack;
#X obj 383 189 s hiconga-allocate;
#N canvas 801 440 450 332 avoid 0;
#X obj 159 16 inlet;
#X obj 200 20 inlet;
#X obj 172 293 outlet;
#X obj 230 292 outlet;
#X obj 244 73 &;
#X obj 244 93 - 1;
#X obj 244 113 abs;
#X obj 214 44 t f f;
#X obj 157 165 spigot;
#X obj 214 165 spigot;
#X msg 244 239 0;
#X msg 271 239 1;
#X floatatom 281 160 5 0 0 0 - - -;
#X obj 244 133 t f f f;
#X obj 244 193 sel 0;
#X obj 244 213 t b b;
#X floatatom 282 74 5 0 0 0 - - -;
#X obj 157 44 t f b f;
#X obj 197 114 f;
#X connect 0 0 17 0;
#X connect 1 0 7 0;
#X connect 4 0 5 0;
#X connect 4 0 16 0;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 7 0 18 1;
#X connect 7 1 4 1;
#X connect 8 0 2 0;
#X connect 9 0 3 0;
#X connect 10 0 2 0;
#X connect 11 0 3 0;
#X connect 13 0 14 0;
#X connect 13 1 8 1;
#X connect 13 2 9 1;
#X connect 13 2 12 0;
#X connect 14 0 15 0;
#X connect 15 0 10 0;
#X connect 15 1 11 0;
#X connect 17 0 8 0;
#X connect 17 1 18 0;
#X connect 17 2 4 0;
#X connect 18 0 9 0;
#X restore 195 197 pd avoid ch&oh;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 9 0 11 1;
#X connect 10 0 11 0;
#X connect 10 1 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 12 0 3 0;
#X connect 12 0 5 0;
#X connect 12 0 7 0;
#X connect 12 0 13 0;
#X connect 12 0 15 0;
#X connect 12 0 17 0;
#X connect 12 0 19 0;
#X connect 12 1 1 1;
#X connect 12 2 3 1;
#X connect 12 3 21 0;
#X connect 12 4 21 1;
#X connect 12 5 13 1;
#X connect 12 6 15 1;
#X connect 12 7 17 1;
#X connect 12 8 19 1;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 21 0 5 1;
#X connect 21 1 7 1;
#X restore 46 463 pd patt2sequencer;
#X obj 46 366 r \$0-generate-drumz;
#X obj 315 356 hsl 200 17 -1 1 0 1 nos nor commonness 30 8 1 12 -262144
-1 -1 10900 1;
#N canvas 565 559 450 157 mouseup 0;
#X obj 178 18 inlet;
#X msg 194 68 stop;
#X obj 185 134 outlet;
#X obj 185 115 f;
#X obj 178 39 t b b b f;
#X obj 178 90 delay 300;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 1 1 0;
#X connect 4 2 5 0;
#X connect 4 3 3 1;
#X connect 5 0 3 0;
#X restore 202 384 pd mouseup;
#X obj 202 403 s \$0-commonness;
#X obj 46 268 t b b a b;
#X obj 46 342 s \$0-generate-drumz;
#X obj 208 477 s \$0-density;
#X obj 315 386 hsl 200 17 -1 1 0 1 nos nor density 46 8 1 12 -262144
-1 -1 7700 1;
#N canvas 565 559 450 157 mouseup 0;
#X obj 178 18 inlet;
#X msg 194 68 stop;
#X obj 185 134 outlet;
#X obj 185 115 f;
#X obj 178 39 t b b b f;
#X obj 178 90 delay 300;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 1 1 0;
#X connect 4 2 5 0;
#X connect 4 3 3 1;
#X connect 5 0 3 0;
#X restore 208 458 pd mouseup;
#X msg 685 347 0;
#X obj 315 416 hsl 200 17 0 1 0 1 nos nor syncopation 33 8 1 12 -262144
-1 -1 5300 1;
#N canvas 565 559 450 157 mouseup 0;
#X obj 178 18 inlet;
#X msg 194 68 stop;
#X obj 185 134 outlet;
#X obj 185 115 f;
#X obj 178 39 t b b b f;
#X obj 178 90 delay 300;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 1 1 0;
#X connect 4 2 5 0;
#X connect 4 3 3 1;
#X connect 5 0 3 0;
#X restore 200 533 pd mouseup;
#X msg 647 389 0.5;
#X obj 200 552 s \$0-syncopation;
#X obj 590 601 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 298 250 450 300 randmprobs 0;
#X obj 198 132 until;
#X obj 199 186 random 100;
#X obj 198 209 / 100;
#X obj 198 162 t b b;
#X obj 279 131 f;
#X obj 323 135 + 1;
#X msg 294 103 0;
#X obj 197 234 tabwrite temp;
#N canvas 715 412 389 266 normalize 0;
#X obj 167 49 inlet;
#X obj 167 70 t b a a;
#X obj 209 102 sum;
#N canvas 850 273 450 300 drip 0;
#X obj 30 20 inlet;
#X obj 39 76 list split 1;
#X obj 79 124 list;
#X obj 40 98 t b f;
#X obj 52 201 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X restore 186 120 pd drip;
#X obj 186 145 /;
#N canvas 760 464 450 300 makelist 0;
#X obj 46 162 outlet;
#X obj 158 144 list;
#X obj 47 139 list;
#X obj 48 38 t b b;
#X obj 101 36 inlet;
#X obj 54 13 inlet;
#X obj 68 115 list prepend;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 6 0 1 0;
#X connect 6 0 2 1;
#X restore 123 187 pd makelist;
#X obj 124 212 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X restore 97 234 pd normalize;
#X obj 202 67 t b b b;
#X obj 97 206 tabdump temp;
#X obj 102 262 tabset temp;
#X msg 201 91 16;
#X obj 217 30 inlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 4 0 7 1;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 9 1 12 0;
#X connect 9 2 6 0;
#X connect 10 0 8 0;
#X connect 12 0 0 0;
#X connect 13 0 9 0;
#X restore 590 621 pd randmprobs;
#X obj 741 237 cnv 15 228 60 empty empty empty 20 12 0 14 -191407 -66577
0;
#X obj 829 139 tgl 40 0 start-drumz nor start 0 19 0 14 -262144 -1
-1 0 1;
#X obj 854 269 nbx 5 18 0 200 0 1 bpm tap-bpm BPM 0 -8 1 20 -262144
-1 -1 130 256;
#N canvas 343 219 785 500 tap 0;
#X obj 244 55 timer;
#X obj 323 113 list;
#X msg 313 90 bang;
#X obj 244 113 list prepend;
#X obj 244 134 list split 1;
#X obj 278 155 route bang;
#X obj 501 315 list length;
#X obj 352 265 list split 1;
#X obj 352 305 list;
#X obj 352 285 t b f;
#X obj 433 314 +;
#X obj 335 370 f;
#X obj 433 333 /;
#X obj 458 313 f;
#X msg 448 251 0;
#X obj 335 176 t b a a b;
#X obj 244 26 t b b b b;
#X msg 320 48 stop;
#X obj 335 391 t b f;
#X msg 333 415 60000;
#X obj 344 443 /;
#X obj 244 7 inlet bang;
#X obj 347 470 outlet bpm;
#X obj 320 71 delay 2000;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 3 1;
#X connect 3 0 1 0;
#X connect 3 0 4 0;
#X connect 4 1 5 0;
#X connect 5 1 15 0;
#X connect 6 0 12 1;
#X connect 7 0 9 0;
#X connect 7 1 8 1;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 10 0;
#X connect 10 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 18 0;
#X connect 12 0 11 1;
#X connect 13 0 10 1;
#X connect 14 0 10 1;
#X connect 15 0 11 0;
#X connect 15 1 7 0;
#X connect 15 2 6 0;
#X connect 15 3 14 0;
#X connect 16 0 0 0;
#X connect 16 1 0 1;
#X connect 16 2 23 0;
#X connect 16 3 17 0;
#X connect 17 0 23 0;
#X connect 18 0 19 0;
#X connect 18 1 20 1;
#X connect 19 0 20 0;
#X connect 20 0 22 0;
#X connect 21 0 16 0;
#X connect 23 0 2 0;
#X restore 319 530 pd tap;
#X obj 759 247 bng 40 250 50 0 empty empty tap 6 18 1 20 -33289 -261234
-262144;
#X obj 319 549 s tap-bpm;
#X obj 61 132 cnv 15 228 44 empty empty empty 20 12 0 14 -162280 -66577
0;
#X obj 69 134 bng 40 250 50 0 \$0-generate-drumz \$0-generate-drumz
new 2 19 1 20 -33289 -261234 -262144;
#X obj 123 145 cnv 15 147 20 empty empty empty 20 12 0 14 -33289 -66577
0;
#X obj 125 146 hradio 18 1 1 8 \$0-order nor empty 0 -8 0 10 -262144
-1 -1 4;
#X text 139 129 Select Markov order;
#X obj 636 271 r comm;
#X obj 636 293 r den;
#X obj 636 316 r sync;
#X obj 636 247 r st;
#X obj 640 171 r cng;
#X obj 317 14 r prv;
#X obj 357 14 r nxt;
#X obj 317 56 +;
#X obj 351 56 f;
#X msg 317 34 1;
#X msg 350 34 -1;
#X obj 640 190 s \$0-generate-drumz;
#X obj 695 264 r bp;
#X obj 700 300 int;
#X obj 636 227 r tp;
#X obj 325 305 cnv 15 90 20 empty empty daftpunk 0 12 1 14 -66577 -228856
0;
#X obj 325 325 cnv 15 90 20 empty empty garageHouse 0 12 1 14 -66577
-228856 0;
#X obj 317 79 % 6;
#X msg 684 366 0;
#X obj 51 509 r current_step;
#N canvas 207 443 1036 375 midi 0;
#X obj 50 19 ctlin 29;
#X obj 50 39 list prepend;
#X obj 50 269 s comm;
#X obj 92 209 s den;
#X obj 92 128 s sync;
#X obj 50 230 * 2;
#X obj 50 249 - 1;
#X obj 50 211 / 127;
#X obj 71 140 / 127;
#X obj 92 108 / 127;
#X floatatom 219 57 5 0 0 0 - - -;
#X floatatom 207 85 5 0 0 0 - - -;
#X floatatom 162 75 5 0 0 0 - - -;
#X obj 193 33 ctlin;
#X floatatom 393 55 5 0 0 0 - - -;
#X floatatom 381 83 5 0 0 0 - - -;
#X floatatom 336 73 5 0 0 0 - - -;
#X obj 367 31 notein;
#X obj 243 144 notein 1;
#X obj 243 165 pack;
#X obj 243 184 route 107;
#X obj 243 238 sel 127;
#X obj 243 260 s st;
#X obj 243 206 change;
#X obj 392 137 notein 1;
#X obj 392 158 pack;
#X obj 392 177 route 111;
#X obj 392 217 sel 127;
#X obj 392 197 change;
#X obj 392 236 s cng;
#X obj 528 32 notein 1;
#X obj 528 51 pack;
#X obj 530 122 sel 127;
#X obj 530 90 change;
#X obj 528 70 route 108;
#X obj 531 179 notein 1;
#X obj 531 198 pack;
#X obj 533 269 sel 127;
#X obj 533 237 change;
#X obj 531 217 route 106;
#X obj 530 149 s prv;
#X obj 533 296 s nxt;
#X obj 164 125 / 127;
#X obj 164 148 * 100;
#X obj 164 175 + 60;
#X obj 164 209 s bp;
#X obj 632 164 notein 1;
#X obj 632 183 pack;
#X obj 634 254 sel 127;
#X obj 634 222 change;
#X obj 632 202 route 110;
#X obj 634 281 s tp;
#X obj 773 225 noteout 7;
#X obj 773 201 makenote;
#X msg 773 179 \$1 127 100;
#X msg 773 150 36;
#X text 885 201 to drum machine;
#X obj 807 45 r playk;
#X obj 810 66 r plays;
#X obj 814 91 r playch;
#X obj 841 116 r playoh;
#X obj 902 101 r playcp;
#X obj 929 126 r playrs;
#X msg 801 151 37;
#X msg 828 151 38;
#X msg 854 151 39;
#X msg 884 151 40;
#X msg 914 151 41;
#X obj 50 81 route 2 1 3 4;
#X obj 96 167 * 2;
#X obj 96 186 - 1;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 68 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 5 0;
#X connect 8 0 69 0;
#X connect 9 0 4 0;
#X connect 13 0 12 0;
#X connect 13 1 11 0;
#X connect 13 2 10 0;
#X connect 17 0 16 0;
#X connect 17 1 15 0;
#X connect 17 2 14 0;
#X connect 18 0 19 0;
#X connect 18 1 19 1;
#X connect 19 0 20 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 23 0 21 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 25 0 26 0;
#X connect 26 0 28 0;
#X connect 27 0 29 0;
#X connect 28 0 27 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 34 0;
#X connect 32 0 40 0;
#X connect 33 0 32 0;
#X connect 34 0 33 0;
#X connect 35 0 36 0;
#X connect 35 1 36 1;
#X connect 36 0 39 0;
#X connect 37 0 41 0;
#X connect 38 0 37 0;
#X connect 39 0 38 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 46 0 47 0;
#X connect 46 1 47 1;
#X connect 47 0 50 0;
#X connect 48 0 51 0;
#X connect 49 0 48 0;
#X connect 50 0 49 0;
#X connect 53 0 52 0;
#X connect 53 1 52 1;
#X connect 54 0 53 0;
#X connect 55 0 54 0;
#X connect 57 0 55 0;
#X connect 58 0 63 0;
#X connect 59 0 64 0;
#X connect 60 0 65 0;
#X connect 61 0 66 0;
#X connect 62 0 67 0;
#X connect 63 0 54 0;
#X connect 64 0 54 0;
#X connect 65 0 54 0;
#X connect 66 0 54 0;
#X connect 67 0 54 0;
#X connect 68 0 7 0;
#X connect 68 1 8 0;
#X connect 68 2 9 0;
#X connect 68 3 42 0;
#X connect 69 0 70 0;
#X connect 70 0 3 0;
#X restore 106 45 pd midi;
#X text 533 492 todo:;
#X text 558 501 .decide the mappings of the new instr. from MDM;
#X text 558 516 .create new styles with the addecuate instruments.
;
#N canvas 3 195 966 244 drums-timeline 1;
#X obj 72 5 hradio 20 1 0 32 nos current_step empty 0 -8 0 10 -262144
-66577 -1 0;
#X obj 12 105 onset32 clap;
#X obj 12 125 onset32 rimshot;
#X obj 12 145 onset32 loconga;
#X obj 12 165 onset32 hiconga;
#X obj 12 25 onset32 kick;
#X obj 12 45 onset32 snare;
#X obj 12 65 onset32 chihat;
#X obj 12 85 onset32 ohihat;
#X restore 456 100 pd drums-timeline;
#X obj 227 609 declare -path abs;
#X connect 3 0 2 3;
#X connect 4 0 21 0;
#X connect 4 1 8 0;
#X connect 8 0 6 0;
#X connect 11 0 10 0;
#X connect 12 0 17 0;
#X connect 17 0 26 0;
#X connect 19 0 2 1;
#X connect 19 1 2 2;
#X connect 22 0 4 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 26 0 27 0;
#X connect 26 1 2 0;
#X connect 26 2 19 0;
#X connect 26 3 3 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 31 0 23 0;
#X connect 32 0 33 0;
#X connect 33 0 35 0;
#X connect 34 0 32 0;
#X connect 36 0 37 0;
#X connect 41 0 43 0;
#X connect 42 0 41 0;
#X connect 47 0 2 4;
#X connect 49 0 23 0;
#X connect 50 0 29 0;
#X connect 51 0 32 0;
#X connect 52 0 39 0;
#X connect 53 0 60 0;
#X connect 54 0 58 0;
#X connect 55 0 59 0;
#X connect 56 0 57 0;
#X connect 56 0 66 0;
#X connect 57 0 56 1;
#X connect 58 0 56 0;
#X connect 59 0 56 0;
#X connect 61 0 62 0;
#X connect 62 0 40 0;
#X connect 63 0 42 0;
#X connect 66 0 12 0;
#X connect 67 0 29 0;
#X connect 68 0 20 0;
#X coords 0 -1 1 1 290 236 2 300 200;
#X restore -405 132 pd gui;
#N canvas 360 203 509 495 patch 0;
#N canvas 639 37 524 685 adt 0;
#X obj -309 -62 r density;
#X obj -309 116 populate_rhythm;
#X obj -222 -62 r end-analysis;
#X obj -222 -39 tabdump master-pattern;
#X obj -219 154 tabset new-onsets;
#X obj -338 185 until;
#X msg -290 184 0;
#X obj -338 214 f 0;
#X obj -308 214 + 1;
#X obj -309 137 t b b l;
#X obj -92 282 tabread new-onsets;
#X obj -323 500 tabwrite slave-pattern;
#X obj -222 36 list-apply max 0;
#X obj -258 206 s slave-pattern;
#X obj -195 81 sum;
#X obj -222 58 t l l;
#X msg -338 163 32;
#X msg -258 184 const 0;
#X obj -309 -1 f;
#X obj -339 -39 r update-density;
#X obj -323 282 tabread master-pattern;
#X obj -323 309 expr if($f2==1 \, 1 \, if($f1==1 \, -1 \, $f1));
#X obj -338 236 t f f f f f;
#X obj 36 279 tabread legato-pattern;
#X obj -302 355 > 32;
#X obj -323 450 expr if($f2==-1 \, $f1 \, if($f1==1 \, 1 \, $f2));
#X obj -323 404 pack;
#X obj -323 381 swap;
#X obj -323 425 route 0 1;
#X obj -302 333 r force-legato;
#X obj -298 475 expr if($f1==1 \, $f1 \, $f2);
#X obj -215 9 s set-legato;
#X obj -185 104 s set-density;
#X msg -215 -14 32;
#X obj -338 522 sel 31;
#X obj -338 544 s update-legato;
#X obj -67 154 s onsets-bass;
#X obj -195 125 s set-bass-density;
#X connect 0 0 18 0;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 12 0;
#X connect 3 0 33 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 7 0 22 0;
#X connect 8 0 7 1;
#X connect 9 0 16 0;
#X connect 9 1 6 0;
#X connect 9 1 17 0;
#X connect 9 2 4 0;
#X connect 9 2 36 0;
#X connect 10 0 21 1;
#X connect 12 0 15 0;
#X connect 14 0 1 0;
#X connect 14 0 32 0;
#X connect 14 0 37 0;
#X connect 15 0 1 1;
#X connect 15 1 14 0;
#X connect 16 0 5 0;
#X connect 17 0 13 0;
#X connect 18 0 1 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 27 0;
#X connect 22 0 34 0;
#X connect 22 1 20 0;
#X connect 22 2 10 0;
#X connect 22 3 11 1;
#X connect 22 4 23 0;
#X connect 23 0 25 1;
#X connect 23 0 30 1;
#X connect 24 0 27 1;
#X connect 25 0 11 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 27 1 26 1;
#X connect 28 0 25 0;
#X connect 28 1 30 0;
#X connect 29 0 24 0;
#X connect 30 0 11 0;
#X connect 33 0 31 0;
#X connect 34 0 35 0;
#X restore -375 -249 pd adt;
#N canvas 8 23 811 700 gem_visualization 0;
#X msg 323 64 0 \, destroy;
#X floatatom 361 136 5 0 0 0 - - -;
#X msg 316 42 reset \, dimen 800 150 \, title Loop \, create \, 1;
#N canvas 281 99 481 734 grid 0;
#X obj 14 79 vis/grid-beat-strong;
#X obj 14 143 vis/grid-beat-soft;
#X obj 14 163 vis/grid-beat-soft;
#X obj 14 183 vis/grid-beat-soft;
#X obj 14 307 vis/grid-beat-soft;
#X obj 14 327 vis/grid-beat-soft;
#X obj 14 347 vis/grid-beat-soft;
#X obj 14 473 vis/grid-beat-soft;
#X obj 14 493 vis/grid-beat-soft;
#X obj 14 513 vis/grid-beat-soft;
#X obj 14 637 vis/grid-beat-soft;
#X obj 14 657 vis/grid-beat-soft;
#X obj 14 677 vis/grid-beat-soft;
#X obj 14 14 inlet;
#X obj 14 35 color 1 0 0 0.4;
#X obj 14 246 vis/grid-beat-strong;
#X obj 14 412 vis/grid-beat-strong;
#X obj 14 576 vis/grid-beat-strong;
#X obj 14 100 color 1 1 1 0.4;
#X obj 14 205 color 0 1 0 0.4;
#X obj 14 267 color 1 1 1 0.4;
#X obj 14 371 color 0 1 0 0.4;
#X obj 14 433 color 1 1 1 0.4;
#X obj 14 535 color 0 1 0 0.4;
#X obj 14 597 color 1 1 1 0.4;
#X obj 14 226 alpha 1;
#X obj 14 286 alpha 1;
#X obj 14 391 alpha 1;
#X obj 14 453 alpha 1;
#X obj 14 556 alpha 1;
#X obj 14 617 alpha 1;
#X obj 14 122 alpha 1;
#X obj 14 57 alpha 1;
#X obj 164 79 vis/grid-beat-strong;
#X obj 164 143 vis/grid-beat-soft;
#X obj 164 163 vis/grid-beat-soft;
#X obj 164 183 vis/grid-beat-soft;
#X obj 164 307 vis/grid-beat-soft;
#X obj 164 327 vis/grid-beat-soft;
#X obj 164 347 vis/grid-beat-soft;
#X obj 164 473 vis/grid-beat-soft;
#X obj 164 493 vis/grid-beat-soft;
#X obj 164 513 vis/grid-beat-soft;
#X obj 164 637 vis/grid-beat-soft;
#X obj 164 657 vis/grid-beat-soft;
#X obj 164 677 vis/grid-beat-soft;
#X obj 164 35 color 1 0 0 0.4;
#X obj 164 246 vis/grid-beat-strong;
#X obj 164 412 vis/grid-beat-strong;
#X obj 164 576 vis/grid-beat-strong;
#X obj 164 100 color 1 1 1 0.4;
#X obj 164 205 color 0 1 0 0.4;
#X obj 164 267 color 1 1 1 0.4;
#X obj 164 371 color 0 1 0 0.4;
#X obj 164 433 color 1 1 1 0.4;
#X obj 164 535 color 0 1 0 0.4;
#X obj 164 597 color 1 1 1 0.4;
#X obj 164 226 alpha 1;
#X obj 164 286 alpha 1;
#X obj 164 391 alpha 1;
#X obj 164 453 alpha 1;
#X obj 164 556 alpha 1;
#X obj 164 617 alpha 1;
#X obj 164 122 alpha 1;
#X obj 164 57 alpha 1;
#X obj 314 79 vis/grid-beat-strong;
#X obj 314 35 color 1 0 0 0.4;
#X obj 314 57 alpha 1;
#X connect 0 0 18 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 19 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 21 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 23 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 46 0;
#X connect 13 0 14 0;
#X connect 14 0 32 0;
#X connect 15 0 20 0;
#X connect 16 0 22 0;
#X connect 17 0 24 0;
#X connect 18 0 31 0;
#X connect 19 0 25 0;
#X connect 20 0 26 0;
#X connect 21 0 27 0;
#X connect 22 0 28 0;
#X connect 23 0 29 0;
#X connect 24 0 30 0;
#X connect 25 0 15 0;
#X connect 26 0 4 0;
#X connect 27 0 16 0;
#X connect 28 0 7 0;
#X connect 29 0 17 0;
#X connect 30 0 10 0;
#X connect 31 0 1 0;
#X connect 32 0 0 0;
#X connect 33 0 50 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 51 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 53 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 42 0 55 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 45 0 66 0;
#X connect 46 0 64 0;
#X connect 47 0 52 0;
#X connect 48 0 54 0;
#X connect 49 0 56 0;
#X connect 50 0 63 0;
#X connect 51 0 57 0;
#X connect 52 0 58 0;
#X connect 53 0 59 0;
#X connect 54 0 60 0;
#X connect 55 0 61 0;
#X connect 56 0 62 0;
#X connect 57 0 47 0;
#X connect 58 0 37 0;
#X connect 59 0 48 0;
#X connect 60 0 40 0;
#X connect 61 0 49 0;
#X connect 62 0 43 0;
#X connect 63 0 34 0;
#X connect 64 0 33 0;
#X connect 66 0 67 0;
#X connect 67 0 65 0;
#X restore 318 178 pd grid;
#X obj 318 156 translateXYZ -19.5 0 0;
#X obj 316 87 gemwin 20;
#X obj 318 114 gemhead 50;
#X obj 316 -2 loadbang;
#X obj 316 19 delay 500;
#N canvas 510 316 286 456 current-step 0;
#X obj 61 281 * 0.5;
#X obj 36 328 translateXYZ 0.75 0 0;
#X obj 79 166 * 1.2;
#X obj 61 303 * 1.2;
#X obj 79 190 - 19.5;
#X obj 36 211 translateXYZ -19.5 0 0;
#X obj 36 400 rectangle 0.75 3;
#X obj 61 237 loadbang;
#X obj 66 39 r current_step;
#X obj 56 84 mod 4;
#X msg 61 259 4;
#X obj 56 105 sel 0;
#X obj 66 60 t f f;
#X obj 99 142 f;
#X obj 36 17 gemhead 51;
#X obj 36 376 alpha 0;
#X obj 36 349 color 0.2 0.2 0.2 0.8;
#X connect 0 0 3 0;
#X connect 1 0 16 0;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 5 0 1 0;
#X connect 7 0 10 0;
#X connect 8 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 0 0;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 14 0 5 0;
#X connect 15 0 6 0;
#X connect 16 0 15 0;
#X restore 318 200 pd current-step;
#X obj 317 222 vis/master-chord-event 0;
#X obj -26 -3 r reset-analysis;
#X obj 598 -1 r reset-slaves;
#X obj 317 362 vis/master-chord-event 7;
#X obj 317 242 vis/master-chord-event 1;
#X obj 317 262 vis/master-chord-event 2;
#X obj 317 282 vis/master-chord-event 3;
#X obj 317 302 vis/master-chord-event 4;
#X obj 317 322 vis/master-chord-event 5;
#X obj 317 342 vis/master-chord-event 6;
#X msg -26 22 \; master-chord-fill-0 C 100 1 \; master-chord-fill-1
C 100 1 \; master-chord-fill-2 C 100 1 \; master-chord-fill-3 C 100
1 \; master-chord-fill-4 C 100 1 \; master-chord-fill-5 C 100 1 \;
master-chord-fill-6 C 100 1 \; master-chord-fill-7 C 100 1 \; slave-chord-pos-0
100 \; slave-chord-pos-1 100 \; slave-chord-pos-2 100 \; slave-chord-pos-3
100 \; slave-chord-pos-4 100 \; slave-chord-pos-5 100 \; slave-chord-pos-6
100 \; slave-chord-pos-7 100 \; slave-chord-pos-8 100 \; slave-chord-pos-9
100 \; slave-chord-pos-10 100 \; slave-chord-pos-11 100 \; slave-chord-pos-12
100 \; slave-chord-pos-13 100 \; slave-chord-pos-14 100 \; slave-chord-pos-15
100 \; slave-chord-pos-16 100 \; slave-chord-pos-17 100 \; slave-chord-pos-18
100 \; slave-chord-pos-19 100 \; slave-chord-pos-20 100 \; slave-chord-pos-21
100 \; slave-chord-pos-22 100 \; slave-chord-pos-23 100 \; slave-chord-pos-24
100 \; slave-chord-pos-25 100 \; slave-chord-pos-26 100 \; slave-chord-pos-27
100 \; slave-chord-pos-28 100 \; slave-chord-pos-29 100 \; slave-chord-pos-30
100 \; slave-chord-pos-31 100 \;;
#X msg 598 24 \; slave-chord-pos-0 100 \; slave-chord-pos-1 100 \;
slave-chord-pos-2 100 \; slave-chord-pos-3 100 \; slave-chord-pos-4
100 \; slave-chord-pos-5 100 \; slave-chord-pos-6 100 \; slave-chord-pos-7
100 \; slave-chord-pos-8 100 \; slave-chord-pos-9 100 \; slave-chord-pos-10
100 \; slave-chord-pos-11 100 \; slave-chord-pos-12 100 \; slave-chord-pos-13
100 \; slave-chord-pos-14 100 \; slave-chord-pos-15 100 \; slave-chord-pos-16
100 \; slave-chord-pos-17 100 \; slave-chord-pos-18 100 \; slave-chord-pos-19
100 \; slave-chord-pos-20 100 \; slave-chord-pos-21 100 \; slave-chord-pos-22
100 \; slave-chord-pos-23 100 \; slave-chord-pos-24 100 \; slave-chord-pos-25
100 \; slave-chord-pos-26 100 \; slave-chord-pos-27 100 \; slave-chord-pos-28
100 \; slave-chord-pos-29 100 \; slave-chord-pos-30 100 \; slave-chord-pos-31
100 \;;
#X obj 160 358 vis/slave-chord-event 18;
#X obj 160 398 vis/slave-chord-event 20;
#X obj 160 618 vis/slave-chord-event 31;
#X obj 160 -2 vis/slave-chord-event 0;
#X obj 160 238 vis/slave-chord-event 12;
#X obj 160 18 vis/slave-chord-event 1;
#X obj 160 418 vis/slave-chord-event 21;
#X obj 160 438 vis/slave-chord-event 22;
#X obj 160 378 vis/slave-chord-event 19;
#X obj 160 178 vis/slave-chord-event 9;
#X obj 160 198 vis/slave-chord-event 10;
#X obj 160 218 vis/slave-chord-event 11;
#X obj 160 258 vis/slave-chord-event 13;
#X obj 160 278 vis/slave-chord-event 14;
#X obj 160 298 vis/slave-chord-event 15;
#X obj 160 318 vis/slave-chord-event 16;
#X obj 160 338 vis/slave-chord-event 17;
#X obj 160 98 vis/slave-chord-event 5;
#X obj 160 78 vis/slave-chord-event 4;
#X obj 160 118 vis/slave-chord-event 6;
#X obj 160 138 vis/slave-chord-event 7;
#X obj 160 38 vis/slave-chord-event 2;
#X obj 160 58 vis/slave-chord-event 3;
#X obj 160 158 vis/slave-chord-event 8;
#X obj 160 458 vis/slave-chord-event 23;
#X obj 160 478 vis/slave-chord-event 24;
#X obj 160 498 vis/slave-chord-event 25;
#X obj 160 518 vis/slave-chord-event 26;
#X obj 160 538 vis/slave-chord-event 27;
#X obj 160 558 vis/slave-chord-event 28;
#X obj 160 578 vis/slave-chord-event 29;
#X obj 160 598 vis/slave-chord-event 30;
#X connect 0 0 5 0;
#X connect 1 0 4 1;
#X connect 2 0 5 0;
#X connect 4 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 11 0 20 0;
#X connect 12 0 21 0;
#X restore -375 -272 pd gem_visualization;
#N canvas 307 52 804 739 get-chord-progression 0;
#X obj -277 -1 inlet;
#X obj -277 43 make_chord;
#X obj 189 37 unpack 0 0 0 0;
#X obj 189 81 /;
#X obj 204 59 r ticks/4;
#X obj 243 82 != 0;
#X obj 189 102 * 4;
#X obj 198 192 route;
#X obj 198 168 t l f;
#X obj 189 124 pack;
#X obj 189 145 change_pack;
#X obj -277 20 t l l;
#X obj -21 296 add2list prepend;
#X msg 189 236 \$2 \$1;
#X obj 189 302 add2list prepend;
#X obj 389 251 r reset-analysis;
#X obj 189 344 list length;
#X obj -21 340 list length;
#X obj 160 380 ==;
#X obj 160 402 sel 1;
#X obj -15 463 list;
#X obj -21 319 t l l;
#X obj 189 322 t l l;
#X obj 195 458 list;
#X obj -15 483 drip 0;
#X obj 195 479 drip 0;
#X obj 189 257 route 1 0;
#X obj 296 302 add2list prepend;
#X obj 275 461 list;
#X obj 275 482 drip 0;
#X obj 254 551 -;
#X obj 254 527 swap;
#X obj 195 500 t f f;
#X obj 197 638 pack s f f;
#X obj 302 526 f 0;
#X obj 332 526 + 1;
#X obj 302 547 mod 8;
#X obj 275 504 t f b;
#X obj 287 664 s;
#X obj 302 568 makefilename master-chord-fill-%d;
#X obj 160 424 t b b b b;
#X text 319 663 chord \, onset \, duration.;
#X obj -277 628 outlet;
#X obj -226 628 outlet;
#X obj -270 66 midi_chord_estimator;
#X obj 24 548 compare-any;
#X obj 87 500 r reset-analysis;
#X msg 87 524 symbol nnnnn;
#X obj -15 504 t s s s;
#X obj 18 574 == 0;
#X obj -15 596 spigot;
#X obj 60 573 sel 1;
#X msg 60 596 symbol;
#X obj 198 215 tabwrite master-pattern;
#X obj -153 134 s fundamentals;
#X obj -153 89 change;
#X obj -60 88 r reset-analysis;
#X obj -153 112 add2list prepend;
#X connect 0 0 11 0;
#X connect 1 0 42 0;
#X connect 1 0 44 0;
#X connect 2 0 3 0;
#X connect 2 2 5 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 9 1;
#X connect 6 0 9 0;
#X connect 7 0 53 0;
#X connect 8 0 7 0;
#X connect 8 1 7 1;
#X connect 8 1 53 1;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 10 0 13 0;
#X connect 11 0 1 0;
#X connect 11 1 2 0;
#X connect 12 0 21 0;
#X connect 13 0 26 0;
#X connect 14 0 22 0;
#X connect 15 0 14 1;
#X connect 15 0 27 1;
#X connect 15 0 12 1;
#X connect 16 0 18 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 40 0;
#X connect 20 0 24 0;
#X connect 21 0 17 0;
#X connect 21 1 20 1;
#X connect 22 0 16 0;
#X connect 22 1 23 1;
#X connect 23 0 25 0;
#X connect 24 0 48 0;
#X connect 25 0 32 0;
#X connect 26 0 14 0;
#X connect 26 0 43 0;
#X connect 26 1 27 0;
#X connect 27 0 28 1;
#X connect 28 0 29 0;
#X connect 29 0 37 0;
#X connect 30 0 33 2;
#X connect 31 0 30 0;
#X connect 31 1 30 1;
#X connect 32 0 33 1;
#X connect 32 1 31 0;
#X connect 33 0 38 0;
#X connect 34 0 35 0;
#X connect 34 0 36 0;
#X connect 35 0 34 1;
#X connect 36 0 39 0;
#X connect 37 0 31 1;
#X connect 37 1 34 0;
#X connect 39 0 38 1;
#X connect 40 1 20 0;
#X connect 40 2 23 0;
#X connect 40 3 28 0;
#X connect 44 0 12 0;
#X connect 44 2 55 0;
#X connect 45 0 49 0;
#X connect 45 0 51 0;
#X connect 46 0 47 0;
#X connect 47 0 45 1;
#X connect 48 0 50 0;
#X connect 48 1 45 1;
#X connect 48 2 45 0;
#X connect 49 0 50 1;
#X connect 50 0 33 0;
#X connect 51 0 52 0;
#X connect 52 0 33 0;
#X connect 55 0 57 0;
#X connect 56 0 57 1;
#X connect 57 0 54 0;
#X restore -374 -182 pd get-chord-progression;
#N canvas 137 46 901 618 make-chord-variations 0;
#X msg 101 45 clear;
#X obj 116 -68 list-compare;
#X obj 83 -95 t l l l;
#X obj 83 -26 spigot;
#X obj 83 -118 inlet;
#X text 121 -119 receives list from makechord;
#X obj 152 -26 inlet;
#X obj 83 -2 list prepend;
#X obj 116 -47 == 0;
#X text 215 16 we need to make sure that al chords are ordered from
low to high...;
#X text 209 -96 we can use the argumentation by Tagg to take the first
chord of the shuttle as "tonic." According to this... it should be
quite easy to obtain the tonic of the shuttle.;
#X obj 101 22 r reset-analysis;
#X obj 145 55 r chord-variations;
#X text 194 -27 receives onset position from route 1;
#X obj 62 347 drip;
#X obj 62 325 list;
#X obj 182 124 t f f;
#N canvas 112 109 501 583 scales 0;
#X obj 115 340 list-unique;
#X obj 153 296 midi2pc;
#X obj 91 464 euclidean_distance;
#X obj 258 544 print a;
#X obj 309 433 mod 12;
#X obj 309 475 print lowest;
#X obj 246 494 list-unique;
#X obj 246 453 list-apply mod 12;
#X obj 230 332 add2list prepend;
#X obj 203 367 list;
#X obj 232 272 t b b;
#X obj 246 474 sort;
#X text 102 254 for scale obtention;
#X msg 131 175 0 60 65 69;
#X text 78 203 replacing a chord is as simple as rewriting a chord
on the same index!;
#X text 117 93 0 4 7;
#X text 117 113 0-1 4 7 (tercer grado);
#X text 116 66 substituciones!;
#X text 117 133 0 4 7+1 (sexto grado);
#X obj 246 410 normal_form;
#X obj 88 431 intervalic_structure;
#X connect 1 0 0 0;
#X connect 4 0 5 0;
#X connect 7 0 11 0;
#X connect 8 0 9 1;
#X connect 9 0 19 0;
#X connect 10 0 9 0;
#X connect 10 1 8 1;
#X connect 11 0 6 0;
#X connect 19 0 7 0;
#X connect 19 1 4 0;
#X restore 460 75 pd scales;
#X obj 182 183 sel -1;
#X obj 62 384 pack 0 0 1;
#X obj 232 303 * 80;
#X text 263 303 velocity;
#X obj 215 204 t b f f f;
#X obj 253 234 +;
#X obj 253 255 sel 2;
#X obj 83 215 coll one;
#C restore;
#X msg 471 135 0 60 64 67 71;
#X obj 461 162 s chord-variations;
#X msg 461 100 0 60 64 69 71;
#X text 294 215 -1 does nothing...;
#X text 300 233 0 silences what was sounding;
#X text 300 251 1 activates (and first mutes the previous chord);
#X obj 182 161 tabread slave-pattern;
#X obj 182 81 r current_step;
#X obj 62 405 noteout;
#X obj 239 349 sort;
#X obj 239 373 list split 1;
#X floatatom 239 398 5 0 0 0 - - -;
#X obj 239 419 s bass;
#X obj 83 248 t l l;
#X text -219 215 This is where all the pitch variations happen! ->
;
#X obj 253 276 midi_panic 1;
#X connect 0 0 25 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 2 1 1 1;
#X connect 2 2 1 0;
#X connect 3 0 7 0;
#X connect 4 0 2 0;
#X connect 6 0 7 1;
#X connect 7 0 25 0;
#X connect 8 0 3 1;
#X connect 11 0 0 0;
#X connect 12 0 25 0;
#X connect 14 0 19 0;
#X connect 15 0 14 0;
#X connect 16 0 32 0;
#X connect 16 1 25 0;
#X connect 18 1 22 0;
#X connect 19 0 34 0;
#X connect 20 0 19 1;
#X connect 22 0 15 0;
#X connect 22 1 20 0;
#X connect 22 2 23 1;
#X connect 22 3 23 0;
#X connect 23 0 24 0;
#X connect 24 0 41 0;
#X connect 25 0 39 0;
#X connect 26 0 27 0;
#X connect 28 0 27 0;
#X connect 32 0 18 0;
#X connect 33 0 16 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 39 0 15 1;
#X connect 39 1 35 0;
#X restore -374 -162 pd make-chord-variations;
#N canvas 153 101 466 618 load-midi-loop 0;
#X msg -268 40 flush;
#X obj -294 395 / 4;
#X obj -308 346 unpack 0 0 0 0 0;
#X obj -239 416 s ticks/4;
#X obj -268 62 t a b;
#X obj -121 172 s reset-analysis;
#X obj -233 -79 openpanel;
#X msg -233 -13 read \$1;
#X obj -206 207 midi_player;
#X obj -143 275 s end-analysis;
#X obj -233 -123 r load_midi_file;
#X obj -143 253 t b b;
#X obj -294 373 uanz;
#X obj -233 8 t b a;
#X obj -294 416 s bars;
#X obj -143 231 uanz;
#X obj -308 322 uanz;
#X obj -173 319 outlet;
#X obj -173 298 midi_sort;
#X msg -121 118 \; master-pattern const -1 \; slave-pattern const -1
;
#X obj -215 392 s set-tempo;
#X obj -215 369 spigot 0;
#X obj -170 347 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X text -149 346 get tempo from midi file (default = no);
#X msg -233 -100 symbol ./midi-chord-loops;
#X obj -233 -35 symbol;
#X obj -223 -58 r reload;
#X connect 0 0 4 0;
#X connect 1 0 14 0;
#X connect 2 0 12 0;
#X connect 2 3 3 0;
#X connect 2 4 21 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 4 1 12 1;
#X connect 4 1 16 1;
#X connect 4 1 15 1;
#X connect 4 1 19 0;
#X connect 6 0 25 0;
#X connect 7 0 13 0;
#X connect 8 1 18 0;
#X connect 8 2 16 0;
#X connect 8 3 15 0;
#X connect 10 0 24 0;
#X connect 11 0 9 0;
#X connect 11 1 18 1;
#X connect 12 0 1 0;
#X connect 13 0 0 0;
#X connect 13 1 8 0;
#X connect 15 0 11 0;
#X connect 16 0 2 0;
#X connect 18 0 17 0;
#X connect 21 0 20 0;
#X connect 22 0 21 1;
#X connect 24 0 6 0;
#X connect 25 0 7 0;
#X connect 26 0 25 0;
#X restore -374 -202 pd load-midi-loop;
#N canvas 360 23 516 734 slave-visualization 0;
#X obj 275 689 s;
#X obj -7 94 until;
#X obj 22 118 + 1;
#X obj -7 117 f 0;
#X obj 274 8 t b b;
#X obj 290 667 makefilename slave-chord-dur-%d;
#X obj 167 154 tabread slave-pattern;
#X msg 38 94 0;
#X obj 333 432 + 1;
#X obj 304 432 f 1;
#X msg 315 405 1;
#X obj 269 454 f;
#X obj 205 253 -;
#X obj 167 217 t f f f f;
#X msg 167 175 2 \$1;
#X obj 167 197 pow;
#X msg 301 154 10;
#X obj 304 254 sel 0.5;
#X obj 242 373 t b b;
#X obj 184 276 pack;
#X obj 242 334 sel2 2 0;
#X obj 315 333 sel -8;
#X obj 173 333 sel2 1 0.5;
#X obj 109 333 sel2 1 -1;
#X obj 40 333 sel2 2 1.5;
#X obj 104 259 moses 0;
#X obj 40 311 spigot;
#X obj -7 73 f 33;
#X obj 220 499 list;
#X obj -7 333 sel 32;
#X obj 251 551 list length;
#X obj 280 597 + 1;
#X obj 251 596 f 0;
#X msg 337 549 0;
#X obj 220 522 t l l b;
#X obj 251 573 until;
#X obj 218 664 packel;
#X obj 251 643 + 1;
#X obj 251 621 t b f f;
#X obj 218 620 list;
#X obj 311 479 add2list prepend;
#N canvas 425 157 377 519 density 0;
#X obj 49 342 f 0;
#X obj 79 342 + 1;
#X obj 34 388 s;
#X obj 64 270 r density;
#X msg 64 317 0;
#X obj 22 207 tabread new-onsets;
#X obj 91 316 s reset-slaves;
#X obj 22 227 pack;
#X obj 22 248 route 1;
#X obj 64 293 t b b;
#X obj 3 75 until;
#X obj 32 164 + 1;
#X obj 3 163 f 0;
#X obj 18 96 r reset-slaves;
#X msg 18 141 0;
#X obj 28 117 r reset-analysis;
#X msg 3 53 32;
#X obj -21 446 coll one;
#C restore;
#X obj 22 270 t f b;
#X obj 3 8 r density;
#X obj 49 364 makefilename slave-chord-pos-%d;
#X text -21 469 when we want to label substitute chords...;
#X obj -21 470 midi_chord_estimator;
#X obj -23 249 sel 31;
#X obj 3 186 t f f f;
#X obj 3 31 delay 1;
#X obj -23 418 s update-legato;
#X connect 0 0 1 0;
#X connect 0 0 20 0;
#X connect 1 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 0 1;
#X connect 5 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 18 0;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 0 12 0;
#X connect 11 0 12 1;
#X connect 12 0 11 0;
#X connect 12 0 24 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 16 0 10 0;
#X connect 17 0 22 0;
#X connect 18 0 2 0;
#X connect 18 1 0 0;
#X connect 19 0 25 0;
#X connect 20 0 2 1;
#X connect 23 0 26 0;
#X connect 24 0 23 0;
#X connect 24 1 5 0;
#X connect 24 2 7 1;
#X connect 25 0 16 0;
#X restore 1 -7 pd density;
#X obj 274 -14 r update-legato;
#X obj -7 52 del 10;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 6 0;
#X connect 3 0 29 0;
#X connect 4 0 43 0;
#X connect 4 1 7 0;
#X connect 4 1 16 0;
#X connect 4 1 40 1;
#X connect 5 0 0 1;
#X connect 6 0 14 0;
#X connect 7 0 3 1;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 11 1;
#X connect 10 0 9 0;
#X connect 11 0 40 0;
#X connect 12 0 19 1;
#X connect 12 0 21 0;
#X connect 13 0 25 0;
#X connect 13 1 19 0;
#X connect 13 1 17 0;
#X connect 13 2 12 1;
#X connect 13 3 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 12 1;
#X connect 17 0 9 0;
#X connect 18 0 10 0;
#X connect 18 1 11 0;
#X connect 19 0 20 0;
#X connect 19 0 22 0;
#X connect 19 0 23 0;
#X connect 19 0 26 0;
#X connect 20 0 18 0;
#X connect 21 0 10 0;
#X connect 22 0 18 0;
#X connect 23 0 18 0;
#X connect 24 0 18 0;
#X connect 25 1 26 1;
#X connect 26 0 24 0;
#X connect 27 0 1 0;
#X connect 28 0 34 0;
#X connect 29 0 28 0;
#X connect 30 0 35 0;
#X connect 31 0 32 1;
#X connect 32 0 31 0;
#X connect 32 0 38 0;
#X connect 33 0 32 1;
#X connect 34 0 30 0;
#X connect 34 1 39 1;
#X connect 34 2 33 0;
#X connect 35 0 32 0;
#X connect 36 0 0 0;
#X connect 37 0 36 1;
#X connect 38 0 39 0;
#X connect 38 1 37 0;
#X connect 38 2 5 0;
#X connect 39 0 36 0;
#X connect 40 0 28 1;
#X connect 42 0 4 0;
#X connect 43 0 27 0;
#X restore -245 -271 pd slave-visualization;
#X obj -222 -315 path ./abs;
#N canvas 0 22 450 300 (subpatch) 0;
#X array master-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore -98 -307 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array new-onsets 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore -99 -241 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array slave-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore -99 -106 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array legato-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore -99 -173 graph;
#N canvas 232 207 786 494 legato 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-legatorder 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 29 -63 graph;
#X text 11 83 descendientemente \, por comps;
#X obj 14 355 tabset \$0-legatorder;
#X msg 14 108 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 48 251 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 46 228 from daniel1;
#X msg 59 309 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 56 288 from daniel-inverse;
#X text 31 173 descendientemente \, por subtiempos dbiles;
#X obj 24 154 loadbang;
#X msg 24 196 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 548 -42 r legato;
#X obj 465 159 tabwrite legato-pattern;
#X obj 540 124 tabread \$0-legatorder;
#X obj 587 28 s legato-pattern;
#X obj 552 75 sel;
#X obj 567 53 - 1;
#X obj 501 39 t f b f;
#X obj 552 99 s update-density;
#X msg 465 134 -1;
#X msg 587 6 const 0;
#X obj 501 14 for;
#X obj 548 -18 t f f b;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 6 0 2 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 11 0 22 0;
#X connect 13 0 12 1;
#X connect 15 0 18 0;
#X connect 16 0 15 1;
#X connect 17 0 15 0;
#X connect 17 1 19 0;
#X connect 17 2 13 0;
#X connect 19 0 12 0;
#X connect 20 0 14 0;
#X connect 21 0 17 0;
#X connect 22 0 21 0;
#X connect 22 1 16 0;
#X connect 22 2 20 0;
#X restore -331 -249 pd legato;
#N canvas 20 66 1137 449 control 0;
#X obj -60 318 s saturation;
#X obj -59 345 s substitution;
#X obj -49 209 s activity;
#X obj 39 96 s legato;
#X obj 39 74 min 32;
#X obj 47 53 s force-legato;
#X obj 39 21 int;
#X obj 39 -3 r raw-legato;
#X obj -61 61 s density;
#X obj -69 -3 r raw-density;
#X obj -69 19 int;
#X obj 158 20 int;
#X obj 158 -3 r raw-register;
#X obj 158 63 s register;
#X obj 159 94 r reset-analysis;
#X obj 169 158 s set-register;
#X msg 159 115 0;
#X text -64 294 these are NOT yet implemented!;
#X obj 179 138 s set-range;
#X obj 268 20 int;
#X obj 268 -3 r raw-range;
#X obj 268 63 s range;
#X obj -69 39 change;
#X obj 158 41 change;
#X obj 268 41 change;
#X obj -69 110 prepend label;
#X obj -69 86 tosymbol;
#X obj -69 133 s vis-density;
#X obj 510 33 midilearn;
#X msg 576 33 48 2;
#X obj 510 10 r learn-tempo;
#X obj 510 99 s set-tempo;
#X obj 510 57 maxlib/scale 0 127 40 239;
#X obj 510 79 int;
#X msg 576 153 29 6;
#X obj 510 199 int;
#X obj 510 130 r learn-density;
#X obj 510 177 maxlib/scale 0 127 1 32;
#X obj 510 219 s set-density;
#X msg 576 273 29 7;
#X obj 510 319 int;
#X msg 766 33 43 2;
#X obj 700 79 int;
#X obj 700 57 maxlib/scale 0 127 1 32;
#X obj 510 250 r learn-legato;
#X obj 510 297 maxlib/scale 0 127 1 34;
#X obj 510 339 s set-legato;
#X obj 700 10 r learn-activity;
#X obj 700 99 s set-activity;
#X msg 766 283 118 1;
#X obj 700 329 int;
#X msg 766 153 29 8;
#X obj 700 199 int;
#X obj 700 130 r learn-register;
#X obj 700 260 r learn-range;
#X obj 700 177 maxlib/scale 0 127 -6 6;
#X obj 700 349 s set-range;
#X obj 700 219 s set-register;
#X obj 700 307 maxlib/scale 0 127 0 4;
#X obj 365 -3 r tempo;
#X obj 365 44 prepend label;
#X obj 365 20 tosymbol;
#X obj 365 67 s vis-tempo;
#X obj 510 153 midilearn;
#X obj 510 273 midilearn;
#X obj 700 33 midilearn;
#X obj 700 283 midilearn;
#X obj 700 153 midilearn;
#X obj -49 182 r raw-activity;
#X obj 159 178 s set-activity;
#X msg 956 33 29 4;
#X obj 900 79 int;
#X msg 956 273 33 3;
#X msg 976 163 29 5;
#X obj 890 33 midilearn;
#X obj 890 273 midilearn;
#X obj 910 163 midilearn;
#X obj 890 10 r learn-bass-density;
#X obj 900 57 maxlib/scale 0 127 0 17;
#X obj 910 140 r learn-bass-duration;
#X obj 900 99 s set-bass-density;
#X obj 910 209 s set-bass-duration;
#X obj 890 250 r learn-bass-accents;
#X obj 910 187 maxlib/scale 0 127 0.2 1;
#X obj 890 329 s set-bass-velocity;
#X obj 890 307 maxlib/scale 0 127 4 0.125;
#X obj 341 166 loadbang;
#X obj 254 277 s set-bass-duration;
#X msg 297 242 1;
#X connect 4 0 3 0;
#X connect 6 0 5 0;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 22 0;
#X connect 11 0 23 0;
#X connect 12 0 11 0;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 16 0 18 0;
#X connect 16 0 69 0;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 22 0 8 0;
#X connect 22 0 26 0;
#X connect 23 0 13 0;
#X connect 24 0 21 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 28 0 32 0;
#X connect 28 1 29 0;
#X connect 29 0 28 1;
#X connect 30 0 28 0;
#X connect 32 0 33 0;
#X connect 33 0 31 0;
#X connect 34 0 63 1;
#X connect 35 0 38 0;
#X connect 36 0 63 0;
#X connect 37 0 35 0;
#X connect 39 0 64 1;
#X connect 40 0 46 0;
#X connect 41 0 65 1;
#X connect 42 0 48 0;
#X connect 43 0 42 0;
#X connect 44 0 64 0;
#X connect 45 0 40 0;
#X connect 47 0 65 0;
#X connect 49 0 66 1;
#X connect 50 0 56 0;
#X connect 51 0 67 1;
#X connect 52 0 57 0;
#X connect 53 0 67 0;
#X connect 54 0 66 0;
#X connect 55 0 52 0;
#X connect 58 0 50 0;
#X connect 59 0 61 0;
#X connect 60 0 62 0;
#X connect 61 0 60 0;
#X connect 63 0 37 0;
#X connect 63 1 34 0;
#X connect 64 0 45 0;
#X connect 64 1 39 0;
#X connect 65 0 43 0;
#X connect 65 1 41 0;
#X connect 66 0 58 0;
#X connect 66 1 49 0;
#X connect 67 0 55 0;
#X connect 67 1 51 0;
#X connect 68 0 2 0;
#X connect 70 0 74 1;
#X connect 71 0 80 0;
#X connect 72 0 75 1;
#X connect 73 0 76 1;
#X connect 74 0 78 0;
#X connect 74 1 70 0;
#X connect 75 0 85 0;
#X connect 75 1 72 0;
#X connect 76 0 83 0;
#X connect 76 1 73 0;
#X connect 77 0 74 0;
#X connect 78 0 71 0;
#X connect 79 0 76 0;
#X connect 82 0 75 0;
#X connect 83 0 81 0;
#X connect 85 0 84 0;
#X connect 86 0 88 0;
#X connect 88 0 87 0;
#X restore -376 -294 pd control from pd-gui;
#N canvas 18 41 859 568 clock 0;
#X floatatom 426 459 5 0 0 0 - - -;
#X obj 261 287 /;
#X obj 143 439 + 1;
#X obj 113 439 f 0;
#X msg 162 415 0;
#X msg 261 264 15000 \$1;
#X obj 140 491 sel 0 31;
#X obj 113 471 t f f;
#X obj 138 336 metro 125;
#X obj 261 241 r tempo;
#X obj 48 43 unpackOSC;
#X obj 113 410 t b;
#X floatatom 124 92 5 0 0 0 - - -;
#X obj 48 375 sel 0;
#X msg 58 400 0;
#X obj 123 536 s current_step;
#X obj 138 247 r play;
#X obj 164 361 r clock-mode;
#X obj 426 406 packOSC;
#X obj 426 436 udpsend;
#X obj 48 18 udpreceive 8000;
#X obj 113 385 multiplex;
#X obj 183 225 r clock-mode;
#X obj 138 276 f;
#X obj 183 247 t b f;
#X obj 210 279 sel 1;
#X obj -42 41 r clock-mode;
#X obj -15 104 - 1;
#X obj -15 127 abs;
#X obj -60 149 spigot 1;
#X obj -60 221 sel 1 0;
#X obj -60 281 prepend label;
#X obj -60 304 s gui-play;
#X msg -60 246 STOP;
#X msg -25 246 PLAY;
#X obj -50 196 s set-play;
#X msg -50 173 set \$1;
#X obj 346 77 sel 1 0;
#X obj 346 5 r play;
#X obj 346 137 prepend label;
#X obj 346 162 s gui-play;
#X msg 346 102 STOP;
#X msg 381 102 PLAY;
#X obj 398 78 loadbang;
#X msg 354 29 set \$1;
#X obj 354 52 s set-play;
#X obj 460 77 sel 1 0;
#X obj 460 157 prepend label;
#X obj 460 7 r clock-mode;
#X obj 460 182 s gui-clock;
#X msg 426 384 /setTempo \$1;
#X obj 48 67 routeOSC /status /step /tempoLive;
#X obj 426 350 spigot 0;
#X obj 535 229 r clock-mode;
#X obj 426 300 f;
#X obj 481 261 t b f;
#X obj 426 261 r tempo;
#X obj 508 283 - 1;
#X obj 508 303 abs;
#X obj 178 127 spigot 0;
#X obj 255 5 r clock-mode;
#X obj 255 26 - 1;
#X obj 255 46 abs;
#X msg 475 33 set \$1;
#X obj 475 56 s set-clock-mode;
#X obj 535 380 sel 0;
#X msg 460 129 INTERNAL;
#X obj 255 70 t b f;
#X obj 178 150 s set-tempo;
#X msg 525 129 EXT-SYNC;
#X obj -60 103 f;
#X obj -42 64 t b f;
#X obj 317 312 r play;
#X obj 317 341 spigot 0;
#X msg 317 368 /setTransport \$1;
#X obj 138 296 spigot 1;
#X floatatom 72 91 5 0 0 0 - - -;
#X obj 599 66 loadbang;
#X msg 535 402 disconnect \, connect localhost 8002;
#X obj 48 290 spigot 0;
#X obj 58 222 r clock-mode;
#X obj 58 243 - 1;
#X obj 58 263 abs;
#X obj 609 119 s set-clock-mode;
#X msg 609 96 1;
#X obj 659 185 r tempo;
#X obj 659 232 prepend label;
#X obj 659 208 tosymbol;
#X obj 659 255 s vis-tempo;
#X obj 178 101 f 125;
#X obj 48 536 midi_panic;
#X obj 140 513 midi_panic 1;
#X connect 1 0 8 1;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 91 0;
#X connect 6 1 4 0;
#X connect 7 0 15 0;
#X connect 7 1 6 0;
#X connect 8 0 21 1;
#X connect 9 0 5 0;
#X connect 10 0 51 0;
#X connect 11 0 3 0;
#X connect 13 0 14 0;
#X connect 13 0 90 0;
#X connect 14 0 3 1;
#X connect 16 0 23 0;
#X connect 17 0 21 2;
#X connect 18 0 19 0;
#X connect 19 0 0 0;
#X connect 20 0 10 0;
#X connect 21 0 11 0;
#X connect 22 0 24 0;
#X connect 23 0 75 0;
#X connect 24 0 23 0;
#X connect 24 1 25 0;
#X connect 24 1 75 1;
#X connect 25 1 8 0;
#X connect 26 0 71 0;
#X connect 27 0 28 0;
#X connect 28 0 29 1;
#X connect 29 0 30 0;
#X connect 29 0 36 0;
#X connect 30 0 33 0;
#X connect 30 1 34 0;
#X connect 31 0 32 0;
#X connect 33 0 31 0;
#X connect 34 0 31 0;
#X connect 36 0 35 0;
#X connect 37 0 41 0;
#X connect 37 1 42 0;
#X connect 38 0 37 0;
#X connect 38 0 44 0;
#X connect 39 0 40 0;
#X connect 41 0 39 0;
#X connect 42 0 39 0;
#X connect 43 0 42 0;
#X connect 44 0 45 0;
#X connect 46 0 66 0;
#X connect 46 1 69 0;
#X connect 47 0 49 0;
#X connect 48 0 46 0;
#X connect 48 0 63 0;
#X connect 50 0 18 0;
#X connect 51 0 23 1;
#X connect 51 0 70 0;
#X connect 51 0 76 0;
#X connect 51 0 79 0;
#X connect 51 1 12 0;
#X connect 51 1 21 0;
#X connect 51 2 89 0;
#X connect 52 0 50 0;
#X connect 53 0 55 0;
#X connect 53 0 65 0;
#X connect 54 0 52 0;
#X connect 55 0 54 0;
#X connect 55 1 57 0;
#X connect 56 0 54 0;
#X connect 57 0 58 0;
#X connect 58 0 52 1;
#X connect 58 0 73 1;
#X connect 59 0 68 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 62 0 67 0;
#X connect 63 0 64 0;
#X connect 65 0 78 0;
#X connect 66 0 47 0;
#X connect 67 0 89 0;
#X connect 67 1 59 1;
#X connect 69 0 47 0;
#X connect 70 0 29 0;
#X connect 71 0 70 0;
#X connect 71 1 27 0;
#X connect 72 0 73 0;
#X connect 73 0 74 0;
#X connect 74 0 18 0;
#X connect 75 0 8 0;
#X connect 75 0 13 0;
#X connect 77 0 84 0;
#X connect 77 0 66 0;
#X connect 78 0 19 0;
#X connect 79 0 13 0;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 82 0 79 1;
#X connect 84 0 83 0;
#X connect 85 0 87 0;
#X connect 86 0 88 0;
#X connect 87 0 86 0;
#X connect 89 0 59 0;
#X restore -236 -294 pd clock;
#X obj -375 -315 import jasch_lib mrpeach;
#X obj -374 -135 loadbang;
#X msg -374 -110 \; set-tempo 125;
#N canvas 339 23 928 751 activity 0;
#X obj 439 8 tabdump new-onsets;
#X obj 394 30 listfind;
#X msg 394 8 1;
#X obj 270 2 tabread \$0-activity;
#X obj 306 65 listfind;
#X obj 306 90 route float bang;
#X obj 421 126 f;
#X obj 450 126 + 1;
#X obj 436 104 f;
#X obj 282 165 add2list prepend;
#X obj 282 207 list length;
#X obj 446 79 r voice-changes;
#X obj 282 186 t l l;
#X obj 288 295 list;
#X obj 297 228 r voice-changes;
#X obj 282 250 ==;
#X obj 288 273 sel 1;
#X obj 288 317 sort;
#X obj 270 26 t f f;
#X obj 282 143 f;
#X obj 306 112 t b;
#X obj 243 -99 t f b b;
#X obj 394 -14 t b b b;
#X obj 288 476 listfind;
#X obj 288 498 route float;
#X obj -23 -96 r density;
#X obj 41 -96 r activity;
#X obj 41 -42 *;
#X obj 41 -69 t b f;
#X obj 41 1 int;
#X floatatom 71 22 5 0 0 0 - - -;
#X obj 583 174 coll one;
#C restore;
#X obj 562 218 t b l;
#X obj 476 244 f;
#X obj 476 315 list;
#X obj 608 433 list prepend;
#X obj 476 266 t b f;
#N canvas 431 22 495 459 activity 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-activity 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 14 -37 graph;
#X text 11 103 descendientemente \, por comps;
#X msg 14 128 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 48 271 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 46 248 from daniel1;
#X msg 59 329 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 56 308 from daniel-inverse;
#X text 31 193 descendientemente \, por subtiempos dbiles;
#X obj 24 174 loadbang;
#X msg 24 216 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 14 375 tabset \$0-activity;
#X connect 2 0 10 0;
#X connect 3 0 10 0;
#X connect 5 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X restore -148 276 pd activity table order;
#X obj 288 340 t b l;
#X msg 288 362 32;
#X obj 288 414 t f f;
#X obj 562 197 list;
#X obj 562 151 t b f;
#X obj 503 290 chord_rotate_manual;
#X floatatom 79 -69 5 0 0 0 - - -;
#X text 83 -20 number of chords;
#X floatatom 150 -67 5 0 0 0 - - -;
#X obj 41 44 change;
#X obj 625 21 list-compare;
#X obj 592 -6 t l l l;
#X obj 592 63 spigot;
#X obj 625 42 == 0;
#X obj 243 -74 for;
#X obj 288 385 for;
#X obj -168 -4 random 2;
#X obj -168 20 sel 0;
#X msg -168 44 -1;
#X obj -168 -26 t b;
#X obj -139 -82 for;
#X obj -168 72 add2list prepend;
#X msg -75 50 0;
#X msg -139 -127 16;
#X obj -139 -58 sel 0;
#X obj -168 122 list;
#X obj -38 63 sel;
#X obj -23 42 - 1;
#X obj -139 -104 t f f;
#N canvas 0 22 450 278 (subpatch) 0;
#X array r-voicing 16 float 3;
#A 0 0 1 -1 1 -1 1 1 -1 1 1 1 1 1 1 -1 1;
#X coords 0 1.1 16 -1.1 100 70 1 0 0;
#X restore -168 179 graph;
#X obj -168 144 tabset r-voicing;
#X text -106 -126 GET NEW RANDOM DISTRIBUTION;
#X obj 181 271 print some;
#X obj 64 112 s voice-changes;
#X obj 288 520 tabread r-voicing;
#X obj 41 66 + 1;
#X obj 415 56 print onset-positions;
#X floatatom 88 79 5 0 0 0 - - -;
#X obj 243 -51 t f f;
#X obj 223 -25 + 16;
#X obj 41 -20 * 0.4;
#X obj 608 454 s chord-variations;
#X obj 164 362 drip;
#X msg 164 338 0 16 24;
#X obj 164 388 moses 16;
#X connect 0 0 1 1;
#X connect 1 0 4 1;
#X connect 1 0 74 0;
#X connect 2 0 1 0;
#X connect 3 0 18 0;
#X connect 4 0 5 0;
#X connect 5 0 20 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 12 0;
#X connect 10 0 15 0;
#X connect 11 0 8 0;
#X connect 12 0 10 0;
#X connect 12 1 13 1;
#X connect 13 0 17 0;
#X connect 14 0 15 1;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 17 0 38 0;
#X connect 17 0 70 0;
#X connect 17 0 80 0;
#X connect 18 0 4 0;
#X connect 18 1 19 1;
#X connect 19 0 9 0;
#X connect 20 0 19 0;
#X connect 21 0 52 0;
#X connect 21 1 8 0;
#X connect 21 2 22 0;
#X connect 22 0 2 0;
#X connect 22 1 9 1;
#X connect 22 2 0 0;
#X connect 23 0 24 0;
#X connect 24 0 72 0;
#X connect 25 0 27 0;
#X connect 26 0 28 0;
#X connect 26 0 44 0;
#X connect 27 0 78 0;
#X connect 28 0 27 0;
#X connect 28 1 27 1;
#X connect 29 0 30 0;
#X connect 29 0 47 0;
#X connect 31 0 41 1;
#X connect 32 0 33 0;
#X connect 32 1 43 1;
#X connect 33 0 36 0;
#X connect 34 0 35 0;
#X connect 35 0 79 0;
#X connect 36 0 34 0;
#X connect 36 1 43 0;
#X connect 38 0 39 0;
#X connect 38 1 23 1;
#X connect 39 0 53 0;
#X connect 40 0 23 0;
#X connect 41 0 32 0;
#X connect 42 0 41 0;
#X connect 42 1 31 0;
#X connect 42 1 35 1;
#X connect 43 0 34 1;
#X connect 46 0 27 0;
#X connect 47 0 73 0;
#X connect 48 0 51 0;
#X connect 49 0 50 0;
#X connect 49 1 48 1;
#X connect 49 2 48 0;
#X connect 51 0 50 1;
#X connect 52 0 76 0;
#X connect 53 0 40 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 55 1 59 0;
#X connect 56 0 59 0;
#X connect 57 0 54 0;
#X connect 58 0 62 0;
#X connect 59 0 63 1;
#X connect 60 0 59 1;
#X connect 61 0 66 0;
#X connect 62 0 60 0;
#X connect 62 1 57 0;
#X connect 62 1 64 0;
#X connect 63 0 68 0;
#X connect 64 0 63 0;
#X connect 65 0 64 1;
#X connect 66 0 58 0;
#X connect 66 1 65 0;
#X connect 72 0 33 1;
#X connect 73 0 71 0;
#X connect 73 0 21 0;
#X connect 73 0 75 0;
#X connect 76 0 77 0;
#X connect 76 1 3 0;
#X connect 77 0 3 0;
#X connect 78 0 29 0;
#X connect 80 0 82 0;
#X connect 81 0 80 0;
#X restore -269 -249 pd activity;
#N canvas 351 45 582 428 register 0;
#X obj 137 90 coll one;
#C restore;
#X msg 137 68 dump;
#X obj 96 116 t b l;
#X obj 47 195 >= 0;
#X obj 47 218 sel 0;
#X obj 20 151 f;
#X obj 91 36 t b f;
#X obj 20 295 list;
#X msg 47 242 -1;
#X obj 178 324 list prepend;
#X obj 84 -14 t f f;
#X obj 91 13 -;
#X obj 20 173 t b f;
#X obj 425 114 coll one;
#C restore;
#X msg 425 92 dump;
#X obj 397 140 t b l;
#X obj 371 224 list prepend;
#X obj 387 -37 r range;
#X obj 402 16 -;
#X obj 387 -13 t f f f;
#X obj 387 38 *;
#X obj 441 -10 r set-range;
#X obj 387 59 t b f;
#X obj 361 175 f;
#X text 349 272 sumar restar 12 a cada cambio;
#X text 349 292 en vez de calcular la distancia;
#X text 349 313 de octava;
#X obj 84 -37 r register;
#X obj 74 270 chord_rotate_manual;
#X obj 361 200 chord-range;
#X obj 178 346 s chord-variations;
#X obj 371 245 s chord-variations;
#X connect 0 0 2 0;
#X connect 0 1 9 1;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 2 1 28 1;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 28 0;
#X connect 5 0 12 0;
#X connect 6 0 1 0;
#X connect 6 1 5 1;
#X connect 7 0 9 0;
#X connect 8 0 28 0;
#X connect 9 0 30 0;
#X connect 10 0 11 1;
#X connect 10 1 11 0;
#X connect 11 0 6 0;
#X connect 12 0 7 0;
#X connect 12 1 3 0;
#X connect 13 0 15 0;
#X connect 13 1 16 1;
#X connect 14 0 13 0;
#X connect 15 0 23 0;
#X connect 15 1 29 1;
#X connect 16 0 31 0;
#X connect 17 0 19 0;
#X connect 18 0 20 1;
#X connect 19 0 20 0;
#X connect 19 1 18 1;
#X connect 19 2 18 0;
#X connect 20 0 22 0;
#X connect 21 0 18 1;
#X connect 22 0 14 0;
#X connect 22 1 23 1;
#X connect 23 0 29 0;
#X connect 27 0 10 0;
#X connect 28 0 7 1;
#X connect 29 0 16 0;
#X restore -375 -226 pd register and range;
#X text -375 -74 TO DO's:;
#X text -98 -46 angel.faraldo@upf.edu \, BCN \, 2015;
#X text -376 -20 rethink chord-substitution and expansion.;
#X text -376 0 circular visualization?? processing??;
#X text -376 20 add colors to chord height... (brigthness) and range.
;
#X text -375 -57 density bug cuando llega a 15 hace 16;
#X text -376 -40 legato does not always visualize correctly.;
#N canvas 434 165 527 334 BASS 0;
#N canvas 789 265 314 362 tables 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array nonext 16 float 3;
#A 0 4 2 5 3 6 5 1 8 3 7 6 3 7 8 6 6;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 53 53 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array next 16 float 3;
#A 0 4 2 5 3 4 5 1 2 3 5 4 3 5 2 4 4;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 54 127 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array id2d 32 float 3;
#A 0 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3 4 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3
4;
#X coords 0 4 31 0 200 140 1 0 0;
#X restore 46 198 graph;
#X restore 24 292 pd tables needed;
#X text 128 291 <- dont erase this. there are some tables needed for
this thing to work;
#N canvas 109 23 1038 652 onset2note 0;
#X obj 45 -182 inlet;
#X obj 128 -144 table riddm;
#X obj 128 -165 tabset riddm;
#N canvas 465 82 691 699 salience 0;
#X obj 24 17 inlet;
#X obj 41 132 list split 1;
#X obj 110 188 list split 1;
#X obj 68 211 == 1;
#X obj 102 211 == 0;
#X obj 68 235 &&;
#X obj 104 168 list;
#X obj 41 151 t b f;
#X obj 74 87 list split 1;
#X obj 40 114 list append;
#X obj 147 395 list;
#X obj 23 459 list;
#X obj 69 395 list prepend;
#X obj 23 527 list split 1;
#X msg 240 181 bang;
#X obj 128 493 list length;
#X obj 23 476 t a a;
#X obj 128 510 - 1;
#X obj 125 301 f;
#X obj 160 300 + 1;
#X msg 352 162 0;
#X obj 23 37 t b a a b b;
#X msg 125 282 bang;
#X obj 68 265 t f f;
#N canvas 0 22 450 300 (subpatch) 0;
#X array salience 16 float 1;
#A 0 -1 4 -3 6 -6 0.5 -6.5 1 -6 0.5 -6.5 1 -4 1.5 -5.5 3;
#X coords 0 4 15 -4 200 140 1 0 0;
#X restore 421 174 graph;
#X msg 365 326 \; salience 0 4 -1 1 -2 2 -1 1 -3 3 -1 1 -2 2 -1 1 -4
;
#X obj 125 319 tabread salience;
#X obj 68 336 *;
#X obj 69 375 int;
#X obj 23 581 outlet;
#X text 290 33 find the salient notes of a rhythmic phrase;
#X obj 68 356 * -1;
#X obj 244 541 outlet;
#X text 28 598 todos;
#X text 225 558 solo positivos;
#X text 224 572 (syncopations);
#X obj 451 537 outlet;
#X text 432 554 solo negativos;
#X text 434 572 (reinforcements);
#X obj 351 426 list;
#X obj 244 445 list;
#X obj 265 426 list prepend;
#X obj 244 515 list split 1;
#X obj 349 481 list length;
#X obj 244 464 t a a;
#X obj 349 498 - 1;
#X obj 265 393 moses 0;
#X obj 23 428 t b b b;
#X msg 225 407 0;
#X connect 0 0 21 0;
#X connect 1 0 7 0;
#X connect 1 1 2 0;
#X connect 1 1 6 1;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 23 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 3 0;
#X connect 8 0 9 1;
#X connect 9 0 1 0;
#X connect 10 0 12 1;
#X connect 11 0 16 0;
#X connect 12 0 10 0;
#X connect 12 0 11 1;
#X connect 13 0 29 0;
#X connect 14 0 12 1;
#X connect 14 0 41 1;
#X connect 15 0 17 0;
#X connect 16 0 13 0;
#X connect 16 1 15 0;
#X connect 17 0 13 1;
#X connect 18 0 19 0;
#X connect 18 0 26 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 47 0;
#X connect 21 1 9 0;
#X connect 21 2 8 0;
#X connect 21 3 14 0;
#X connect 21 4 20 0;
#X connect 22 0 18 0;
#X connect 23 0 27 0;
#X connect 23 1 22 0;
#X connect 26 0 27 1;
#X connect 27 0 31 0;
#X connect 28 0 12 0;
#X connect 28 0 46 0;
#X connect 31 0 28 0;
#X connect 39 0 41 1;
#X connect 40 0 44 0;
#X connect 41 0 39 0;
#X connect 41 0 40 1;
#X connect 42 0 32 0;
#X connect 43 0 45 0;
#X connect 44 0 42 0;
#X connect 44 1 43 0;
#X connect 45 0 42 1;
#X connect 46 0 48 0;
#X connect 46 1 41 0;
#X connect 47 0 11 0;
#X connect 47 1 40 0;
#X connect 48 0 41 0;
#X restore 45 -113 pd salience;
#N canvas 270 114 857 503 calculate 0;
#X obj 334 173 list split 1;
#X obj 334 194 t b a;
#X obj 377 212 list;
#X obj 420 258 f;
#X obj 442 258 + 1;
#X msg 436 169 0;
#X obj 366 241 t f b;
#X obj 350 283 sel 0;
#X obj 474 279 t f f;
#X obj 378 327 +;
#X obj 231 87 t b a b b;
#X msg 214 211 16;
#X obj 214 263 t f f;
#X obj 77 28 inlet;
#X text 431 16 use the values of the most salien notes and the values
of the L profile and set an experimental velocity value for the notes.
This highlights the accents (theoretical) plus the syncopations found
on the pattern.;
#X obj 58 394 for;
#X msg 58 375 16;
#X obj 58 412 t f f;
#X obj 58 473 tabwrite velocity;
#X obj 126 170 t b b b;
#X obj 58 453 pow;
#X obj 506 404 inlet;
#X obj 214 304 + 2;
#X obj 393 307 tabread vel;
#X obj 378 351 tabwrite vel;
#X obj 214 283 tabread vel;
#X obj 214 324 tabwrite vel;
#X obj 59 432 tabread vel;
#X obj 555 218 table vel 16;
#X obj 506 424 t b f;
#X msg 145 347 \; vel normalize 1;
#X msg 369 104 \; vel 0 2 0 1 0 2 0 1 0 2 0 1 0 2 0 1 0;
#X obj 214 240 for;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 6 1 3 0;
#X connect 7 1 9 0;
#X connect 8 0 23 0;
#X connect 8 1 24 1;
#X connect 9 0 24 0;
#X connect 10 0 19 0;
#X connect 10 1 0 0;
#X connect 10 2 5 0;
#X connect 10 2 2 1;
#X connect 10 3 31 0;
#X connect 11 0 32 0;
#X connect 12 0 25 0;
#X connect 12 1 26 1;
#X connect 13 0 10 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 27 0;
#X connect 17 1 18 1;
#X connect 19 0 16 0;
#X connect 19 1 30 0;
#X connect 19 2 11 0;
#X connect 20 0 18 0;
#X connect 21 0 29 0;
#X connect 22 0 26 0;
#X connect 23 0 9 1;
#X connect 25 0 22 0;
#X connect 27 0 20 0;
#X connect 29 0 16 0;
#X connect 29 1 20 1;
#X connect 32 0 12 0;
#X restore 76 -37 pd calculate velocity;
#X text 167 -115 calculate the salience of a sequence. Outputs are
(allnotes \, only syncopations \, only reinforcements);
#X obj 76 -17 table velocity 16;
#X obj 628 12 tabread riddm;
#X obj 628 33 sel 1;
#X obj 714 -3 tabread velocity;
#X obj 628 -20 t f f;
#X obj 699 90 f;
#X text 118 -116 <-------;
#X text 15 -199 input an onset sequence;
#X obj 582 278 pack f f;
#X obj 582 300 outlet;
#X obj 432 27 f;
#X obj 508 -25 r fundamentals;
#X obj 508 0 unpack;
#X obj 473 28 f;
#X obj 432 -7 sel 0 1;
#X obj 458 206 f;
#X obj 601 139 t b f;
#X obj 819 -3 r tempo;
#X obj 819 22 * 4;
#X msg 819 48 60000 \$1;
#X obj 819 71 /;
#X obj 830 96 r bass-duration;
#X obj 830 120 t b f;
#X obj 819 155 * 1;
#X obj 607 -152 r current_step;
#X obj 628 -43 mod 16;
#X obj 92 76 r bass-octave;
#X obj 122 108 - 1;
#X obj 101 143 * 12;
#X obj 101 166 + 36;
#X obj 681 55 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 628 166 int;
#X obj 582 254 makenote 127 300;
#X obj 714 18 * 127;
#X obj 432 -29 >= 16;
#X obj 501 105 mod 2;
#X obj 607 -130 t f f f;
#X obj 487 145 * 12;
#X obj 471 180 + 0;
#X floatatom 138 240 5 0 0 0 - - -;
#X obj 449 100 + 24;
#X obj 199 -71 r bass-velocity;
#X floatatom 232 -46 5 0 0 0 - - -;
#X floatatom 224 4 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 0 0 2 0;
#X connect 3 1 4 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 8 0 36 0;
#X connect 9 0 39 0;
#X connect 10 0 7 0;
#X connect 10 1 9 0;
#X connect 11 0 22 0;
#X connect 14 0 15 0;
#X connect 16 0 46 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 18 1 19 1;
#X connect 19 0 46 0;
#X connect 20 0 16 0;
#X connect 20 1 19 0;
#X connect 21 0 38 0;
#X connect 22 0 21 0;
#X connect 22 1 37 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 29 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 28 1 29 1;
#X connect 29 0 38 2;
#X connect 30 0 42 0;
#X connect 31 0 10 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 45 0;
#X connect 37 0 38 1;
#X connect 38 0 14 0;
#X connect 38 1 14 1;
#X connect 39 0 11 1;
#X connect 40 0 20 0;
#X connect 41 0 43 0;
#X connect 42 0 31 0;
#X connect 42 1 40 0;
#X connect 42 2 41 0;
#X connect 43 0 44 1;
#X connect 44 0 21 1;
#X connect 46 0 44 0;
#X connect 47 0 48 0;
#X connect 49 0 4 1;
#X coords 0 652 1 651 240 17 0;
#X restore 23 211 pd onset2note;
#X text 107 209 <- look inside to adjust the note sequence;
#X obj 23 112 abs/populate_rhythm;
#X obj 23 238 noteout 2;
#X text 94 237 bass is on midi channel 2;
#X obj 35 142 prepend set;
#X msg 37 166 1 0 0 1 0 0 0 0 0 1 0 1 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0;
#X obj 134 60 r onsets-bass;
#X obj 36 40 r set-density;
#X obj 51 74 pipe 1;
#X obj 337 73 vradio 17 1 0 3 bass-octave set-bass-octave empty 0 -8
0 10 -262144 -1 -1 0;
#X text 293 73 OCTAVE;
#X obj 337 61 bng 8 250 50 0 learn-density --- empty 17 7 0 10 -262144
-1 -1;
#X obj 23 17 r bass-density;
#X floatatom 150 19 5 0 0 0 - - -;
#X connect 2 0 5 0;
#X connect 4 0 2 0;
#X connect 4 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 4 1;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 15 0 4 0;
#X connect 15 0 16 0;
#X restore -240 -226 pd BASS;
#N canvas 970 479 300 131 bass 0;
#X restore -234 -87 pd bass interface;
#X obj -259 119 hsl 200 16 4 0.125 0 0 bass-velocity set-bass-velocity
empty -2 -8 0 10 -262144 -1 -1 0 1;
#X obj -262 109 bng 8 250 50 0 learn-bass-accents --- empty 17 7 0
10 -262144 -1 -1;
#X text -316 118 ACCENTS;
#N canvas 970 23 310 424 harm 1;
#X restore -222 -119 pd harm interface;
#X obj -257 75 hsl 200 17 0 1 0 0 raw-activity set-activity empty -2
-8 0 10 -262144 -1 -1 0 1;
#X obj -260 65 bng 8 250 50 0 learn-activity --- empty 17 7 0 10 -262144
-1 -1;
#X text -316 74 ACTIVITY;
#X text -319 71 ---------------------------------------------;
#X text -319 74 ---------------------------------------------;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 4 0 2 0;
#X connect 15 0 16 0;
#X restore -337 576 pd patch;
#X text -338 508 angel.faraldo@upf.edu;
#X text -338 523 daniel.gomez@upf.edu;
#X text -338 538 carthach.onuanain@upf.edu;
#X text -338 553 martin.hermant@upf.edu;
#X text -338 443 GIANT STEPS;
#X text -338 453 ===========;
#X text -338 473 MUSIC TECHNOLOGY GROUP;
#X text -338 483 UNIVERSITAT POMPEU FABRA;
#X text -338 493 BARCELONA \, SPAIN;
#X obj -101 -145 cnv 15 290 400 empty empty empty 20 12 0 14 -232576
-66577 0;
#X obj -29 -114 hsl 200 16 1 32 0 0 raw-density set-density empty -2
-8 0 10 -262144 -1 -1 0 1;
#X obj -29 -84 hsl 200 17 1 34 0 0 raw-legato set-legato empty -2 -8
0 10 -262144 -1 -1 0 1;
#X obj -29 -24 hsl 100 17 -6 6 0 0 raw-register set-register empty
-2 -8 0 10 -262144 -1 -1 0 1;
#X text -83 -115 DENSITY;
#X text -76 -85 LEGATO;
#X text -88 -26 REGISTER;
#X text 41 -41 RANGE;
#X obj 78 -60 bng 8 250 50 0 learn-range --- empty 17 7 0 10 -262144
-1 -1;
#X obj -32 -34 bng 8 250 50 0 learn-register --- empty 17 7 0 10 -262144
-1 -1;
#X obj -32 -94 bng 8 250 50 0 learn-legato --- empty 17 7 0 10 -262144
-1 -1;
#X obj -32 -124 bng 8 250 50 0 learn-density --- empty 17 7 0 10 -262144
-1 -1;
#X obj 78 -48 vsl 17 39 0 3.9 0 0 raw-range set-range empty 0 -9 0
10 -262144 -1 -1 0 1;
#X obj 51 -110 cnv 8 1 1 empty vis-density 2 20 5 0 12 -262144 -66577
0;
#X obj -29 50 hsl 200 16 0 17 0 0 bass-density set-bass-density empty
-2 -8 0 10 -262144 -1 -1 0 1;
#X text -83 49 DENSITY;
#X obj -32 40 bng 8 250 50 0 learn-bass-density --- empty 17 7 0 10
-262144 -1 -1;
#X obj -29 80 hsl 200 16 0.2 1 0 0 bass-duration set-bass-duration
empty -2 -8 0 10 -262144 -1 -1 19900 1;
#X obj -32 70 bng 8 250 50 0 learn-bass-duration --- empty 17 7 0 10
-262144 -1 -1;
#X text -88 79 DURATION;
#X obj -52 16 cnv 15 100 20 empty empty BASS 20 12 0 14 -232576 -159808
0;
