#N struct schord0 float x float dur symbol chordname;
#N struct schord1 float x float dur symbol chordname;
#N struct schord2 float x float dur symbol chordname;
#N struct schord3 float x float dur symbol chordname;
#N struct schord4 float x float dur symbol chordname;
#N struct schord5 float x float dur symbol chordname;
#N struct schord6 float x float dur symbol chordname;
#N struct schord7 float x float dur symbol chordname;
#N struct schord8 float x float dur symbol chordname;
#N struct schord9 float x float dur symbol chordname;
#N struct schord10 float x float dur symbol chordname;
#N struct schord11 float x float dur symbol chordname;
#N struct schord12 float x float dur symbol chordname;
#N struct schord13 float x float dur symbol chordname;
#N struct schord14 float x float dur symbol chordname;
#N struct schord15 float x float dur symbol chordname;
#N struct schord16 float x float dur symbol chordname;
#N struct schord17 float x float dur symbol chordname;
#N struct schord18 float x float dur symbol chordname;
#N struct schord19 float x float dur symbol chordname;
#N struct schord20 float x float dur symbol chordname;
#N struct schord21 float x float dur symbol chordname;
#N struct schord22 float x float dur symbol chordname;
#N struct schord23 float x float dur symbol chordname;
#N struct schord24 float x float dur symbol chordname;
#N struct schord25 float x float dur symbol chordname;
#N struct schord26 float x float dur symbol chordname;
#N struct schord27 float x float dur symbol chordname;
#N struct schord28 float x float dur symbol chordname;
#N struct schord29 float x float dur symbol chordname;
#N struct schord30 float x float dur symbol chordname;
#N struct schord31 float x float dur symbol chordname;
#N struct mchord0 float x float dur symbol chordname;
#N struct mchord1 float x float dur symbol chordname;
#N struct mchord2 float x float dur symbol chordname;
#N struct mchord3 float x float dur symbol chordname;
#N struct mchord4 float x float dur symbol chordname;
#N struct mchord5 float x float dur symbol chordname;
#N struct mchord6 float x float dur symbol chordname;
#N struct mchord7 float x float dur symbol chordname;
#N struct beat float x;
#N struct line float pos float color;
#N canvas 1 89 812 440 10;
#X declare -stdpath unauthorized -path abs -stdpath pdmus;
#N canvas 112 348 605 433 patch 0;
#N canvas 100 50 595 685 adt 0;
#X obj 73 29 r density;
#X obj 44 276 until;
#X msg 92 275 0;
#X obj 44 305 f 0;
#X obj 74 305 + 1;
#X obj 73 228 t b b l;
#X obj 290 373 tabread new-onsets;
#X obj 59 591 tabwrite slave-pattern;
#X obj 124 297 s slave-pattern;
#X obj 160 149 t l l;
#X msg 44 254 32;
#X msg 124 275 const 0;
#X obj 73 90 f;
#X obj 43 52 r update-density;
#X obj 59 373 tabread master-pattern;
#X obj 59 400 expr if($f2==1 \, 1 \, if($f1==1 \, -1 \, $f1));
#X obj 44 327 t f f f f f;
#X obj 418 370 tabread legato-pattern;
#X obj 80 446 > 32;
#X obj 59 541 expr if($f2==-1 \, $f1 \, if($f1==1 \, 1 \, $f2));
#X obj 59 495 pack;
#X obj 59 472 swap;
#X obj 59 516 route 0 1;
#X obj 80 424 r force-legato;
#X obj 84 566 expr if($f1==1 \, $f1 \, $f2);
#X obj 167 100 s set-legato;
#X obj 197 195 s set-density;
#X msg 167 77 32;
#X obj 44 613 sel 31;
#X obj 44 635 s update-legato;
#X obj 325 237 s onsets-bass;
#X obj 187 216 s set-bass-density;
#X obj 160 52 zexy/tabdump master-pattern;
#X obj 160 127 list-abs/list-apply max 0;
#X obj 163 251 zexy/tabset new-onsets;
#X obj 187 172 zexy/sum;
#X obj 73 207 populate-rhythm;
#X floatatom 100 133 5 0 0 0 - - -, f 5;
#X obj 160 9 r end-analysis;
#X connect 0 0 12 0;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 16 0;
#X connect 4 0 3 1;
#X connect 5 0 10 0;
#X connect 5 1 2 0;
#X connect 5 1 11 0;
#X connect 5 2 30 0;
#X connect 5 2 34 0;
#X connect 6 0 15 1;
#X connect 9 0 36 1;
#X connect 9 1 35 0;
#X connect 10 0 1 0;
#X connect 11 0 8 0;
#X connect 12 0 36 0;
#X connect 12 0 37 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 21 0;
#X connect 16 0 28 0;
#X connect 16 1 14 0;
#X connect 16 2 6 0;
#X connect 16 3 7 1;
#X connect 16 4 17 0;
#X connect 17 0 19 1;
#X connect 17 0 24 1;
#X connect 18 0 21 1;
#X connect 19 0 7 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 21 1 20 1;
#X connect 22 0 19 0;
#X connect 22 1 24 0;
#X connect 23 0 18 0;
#X connect 24 0 7 0;
#X connect 27 0 25 0;
#X connect 28 0 29 0;
#X connect 32 0 27 0;
#X connect 32 0 33 0;
#X connect 33 0 9 0;
#X connect 35 0 26 0;
#X connect 35 0 31 0;
#X connect 35 0 36 0;
#X connect 36 0 5 0;
#X connect 38 0 32 0;
#X restore 217 133 pd adt;
#N canvas 48 50 839 739 get-chord-progression 0;
#X obj 23 19 inlet;
#X obj 489 57 unpack 0 0 0 0;
#X obj 489 101 /;
#X obj 504 79 r ticks/4;
#X obj 543 102 != 0;
#X obj 489 122 * 4;
#X obj 498 212 route;
#X obj 498 188 t l f;
#X obj 489 144 pack;
#X obj 23 40 t l l;
#X obj 296 326 add2list prepend;
#X msg 489 256 \$2 \$1;
#X obj 489 322 add2list prepend;
#X obj 689 281 r reset-analysis;
#X obj 275 483 list;
#X obj 504 478 list;
#X obj 489 277 route 1 0;
#X obj 596 322 add2list prepend;
#X obj 585 478 list;
#X obj 554 571 -;
#X obj 554 547 swap;
#X obj 504 520 t f f;
#X obj 497 658 pack s f f;
#X obj 602 546 f 0;
#X obj 632 546 + 1;
#X obj 602 567 mod 8;
#X obj 575 524 t f b;
#X obj 587 706 s;
#X obj 602 588 makefilename master-chord-fill-%d;
#X text 619 705 chord \, onset \, duration.;
#X obj 23 648 outlet;
#X obj 74 648 outlet;
#X obj 397 524 r reset-analysis;
#X msg 397 548 symbol nnnnn;
#X obj 275 528 t s s s;
#X obj 280 598 == 0;
#X obj 247 620 spigot;
#X obj 322 597 sel 1;
#X msg 322 620 symbol;
#X obj 498 235 tabwrite master-pattern;
#X obj 147 154 s fundamentals;
#X obj 147 109 change;
#X obj 240 108 r reset-analysis;
#X obj 147 132 add2list prepend;
#X obj 23 63 chord-make;
#X obj 30 86 chord-estimate;
#X obj 280 572 list-abs/compare-any;
#X obj 489 165 change-any;
#X obj 460 401 r end-analysis;
#X obj 275 503 zexy/drip 0;
#X obj 504 499 zexy/drip 0;
#X obj 585 499 zexy/drip 0;
#X obj 460 422 del 1;
#X obj 460 444 t b b b;
#X text 165 692 revisar la última parte para evitar los zexy/drip...
;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 2 4 0;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 8 1;
#X connect 5 0 8 0;
#X connect 6 0 39 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 7 1 39 1;
#X connect 8 0 47 0;
#X connect 9 0 44 0;
#X connect 9 1 1 0;
#X connect 10 0 14 1;
#X connect 11 0 16 0;
#X connect 12 0 15 1;
#X connect 13 0 12 1;
#X connect 13 0 17 1;
#X connect 13 0 10 1;
#X connect 14 0 49 0;
#X connect 15 0 50 0;
#X connect 16 0 12 0;
#X connect 16 0 31 0;
#X connect 16 1 17 0;
#X connect 17 0 18 1;
#X connect 18 0 51 0;
#X connect 19 0 22 2;
#X connect 20 0 19 0;
#X connect 20 1 19 1;
#X connect 21 0 22 1;
#X connect 21 1 20 0;
#X connect 22 0 27 0;
#X connect 23 0 24 0;
#X connect 23 0 25 0;
#X connect 24 0 23 1;
#X connect 25 0 28 0;
#X connect 26 0 20 1;
#X connect 26 1 23 0;
#X connect 28 0 27 1;
#X connect 32 0 33 0;
#X connect 33 0 46 1;
#X connect 34 0 36 0;
#X connect 34 1 46 1;
#X connect 34 2 46 0;
#X connect 35 0 36 1;
#X connect 36 0 22 0;
#X connect 37 0 38 0;
#X connect 38 0 22 0;
#X connect 41 0 43 0;
#X connect 42 0 43 1;
#X connect 43 0 40 0;
#X connect 44 0 30 0;
#X connect 44 0 45 0;
#X connect 45 0 10 0;
#X connect 45 2 41 0;
#X connect 46 0 35 0;
#X connect 46 0 37 0;
#X connect 47 0 7 0;
#X connect 47 0 11 0;
#X connect 48 0 52 0;
#X connect 49 0 34 0;
#X connect 50 0 21 0;
#X connect 51 0 26 0;
#X connect 52 0 53 0;
#X connect 53 0 14 0;
#X connect 53 1 15 0;
#X connect 53 2 18 0;
#X restore 218 203 pd get-chord-progression;
#N canvas 131 101 674 601 make-chord-variations 0;
#X msg 129 184 clear;
#X obj 111 44 t l l l;
#X obj 111 113 spigot;
#X obj 111 21 inlet;
#X text 149 20 receives list from makechord;
#X obj 180 113 inlet;
#X obj 111 137 list prepend;
#X obj 144 92 == 0;
#X text 243 155 we need to make sure that al chords are ordered from
low to high...;
#X text 289 48 we can use the argumentation by Tagg to take the first
chord of the shuttle as "tonic." According to this... it should be
quite easy to obtain the tonic of the shuttle.;
#X obj 129 161 r reset-analysis;
#X obj 173 194 r chord-variations;
#X text 222 112 receives onset position from route 1;
#X obj 90 464 list;
#X obj 210 253 t f f;
#N canvas 112 109 501 583 scales 0;
#X msg 131 175 0 60 65 69;
#X text 78 203 replacing a chord is as simple as rewriting a chord
on the same index!;
#X text 117 93 0 4 7;
#X text 117 113 0-1 4 7 (tercer grado);
#X text 116 66 substituciones!;
#X text 117 133 0 4 7+1 (sexto grado);
#X restore 428 214 pd scales;
#X obj 210 322 sel -1;
#X obj 260 442 * 80;
#X text 292 442 velocity;
#X obj 243 343 t b f f f;
#X obj 281 373 +;
#X obj 281 394 sel 2;
#X msg 439 274 0 60 64 67 71;
#X obj 429 301 s chord-variations;
#X msg 429 239 0 60 64 69 71;
#X text 322 354 -1 does nothing...;
#X text 328 372 0 silences what was sounding;
#X text 328 390 1 activates (and first mutes the previous chord);
#X obj 210 280 tabread slave-pattern;
#X obj 210 220 r current_step;
#X obj 267 512 list split 1;
#X floatatom 267 537 5 0 0 0 - - -, f 5;
#X obj 267 558 s bass;
#X obj 111 387 t l l;
#X text 117 302 This is where all the pitch variations happen! ->;
#X obj 144 71 list-abs/list-compare;
#X obj 111 354 cyclone/coll one;
#C restore;
#X obj 90 486 list-dripv;
#X obj 267 488 zexy/sort;
#X obj 90 544 noteout 2;
#X obj 281 415 midi-panic-ch 2;
#X obj 90 523 pack 0 0 2;
#X connect 0 0 36 0;
#X connect 1 0 2 0;
#X connect 1 1 35 1;
#X connect 1 2 35 0;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 5 0 6 1;
#X connect 6 0 36 0;
#X connect 7 0 2 1;
#X connect 10 0 0 0;
#X connect 11 0 36 0;
#X connect 13 0 37 0;
#X connect 14 0 28 0;
#X connect 14 1 36 0;
#X connect 16 1 19 0;
#X connect 17 0 41 1;
#X connect 19 0 13 0;
#X connect 19 1 17 0;
#X connect 19 2 20 1;
#X connect 19 3 20 0;
#X connect 20 0 21 0;
#X connect 21 0 40 0;
#X connect 22 0 23 0;
#X connect 24 0 23 0;
#X connect 28 0 16 0;
#X connect 29 0 14 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 33 0 13 1;
#X connect 33 1 38 0;
#X connect 35 0 7 0;
#X connect 36 0 33 0;
#X connect 37 0 41 0;
#X connect 38 0 30 0;
#X connect 41 0 39 0;
#X restore 218 225 pd make-chord-variations;
#N canvas 180 89 466 618 load-midi-loop 0;
#X msg 65 191 flush;
#X obj 39 546 / 4;
#X obj 25 497 unpack 0 0 0 0 0;
#X obj 94 567 s ticks/4;
#X obj 65 213 t a b;
#X obj 212 323 s reset-analysis;
#X obj 100 52 openpanel;
#X msg 100 138 read \$1;
#X obj 127 358 midi-player;
#X obj 226 426 s end-analysis;
#X obj 100 8 r load_midi_file;
#X obj 226 404 t b b;
#X obj 100 159 t b a;
#X obj 39 567 s bars;
#X obj 160 470 outlet;
#X msg 212 269 \; master-pattern const -1 \; slave-pattern const -1
;
#X obj 118 543 s set-tempo;
#X obj 118 520 spigot 0;
#X obj 163 498 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 184 497 get tempo from midi file (default = no);
#X msg 100 31 symbol ./midi-chord-loops;
#X obj 100 116 symbol;
#X obj 110 73 r reload;
#X obj 123 93 r file-by-name;
#X obj 160 449 midi-sort-events;
#X obj 39 524 oncev;
#X obj 25 473 oncev;
#X obj 226 382 oncev;
#X connect 0 0 4 0;
#X connect 1 0 13 0;
#X connect 2 0 25 0;
#X connect 2 3 3 0;
#X connect 2 4 17 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 4 1 15 0;
#X connect 4 1 25 1;
#X connect 4 1 26 1;
#X connect 4 1 27 1;
#X connect 6 0 21 0;
#X connect 7 0 12 0;
#X connect 8 1 24 0;
#X connect 8 2 26 0;
#X connect 8 3 27 0;
#X connect 10 0 20 0;
#X connect 11 0 9 0;
#X connect 11 1 24 1;
#X connect 12 0 0 0;
#X connect 12 1 8 0;
#X connect 17 0 16 0;
#X connect 18 0 17 1;
#X connect 20 0 6 0;
#X connect 21 0 7 0;
#X connect 22 0 21 0;
#X connect 23 0 21 0;
#X connect 24 0 14 0;
#X connect 25 0 1 0;
#X connect 26 0 2 0;
#X connect 27 0 11 0;
#X restore 218 183 pd load-midi-loop;
#N canvas 0 50 450 300 (subpatch) 0;
#X array master-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 5 19 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array new-onsets 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 85 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array slave-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 220 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array legato-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 153 graph;
#N canvas 152 181 786 494 legato 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-legatorder 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 57 29 graph;
#X text 39 175 descendientemente \, por compás;
#X msg 42 200 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 76 343 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 74 320 from daniel1;
#X msg 87 401 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 84 380 from daniel-inverse;
#X text 59 265 descendientemente \, por subtiempos débiles;
#X msg 52 288 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 576 50 r legato;
#X obj 493 251 tabwrite legato-pattern;
#X obj 568 216 tabread \$0-legatorder;
#X obj 615 120 s legato-pattern;
#X obj 580 167 sel;
#X obj 595 145 - 1;
#X obj 529 131 t f b f;
#X obj 580 191 s update-density;
#X msg 493 226 -1;
#X msg 615 98 const 0;
#X obj 529 106 forloop;
#X obj 576 74 t f f b;
#X obj 42 447 zexy/tabset \$0-legatorder;
#X connect 2 0 21 0;
#X connect 3 0 21 0;
#X connect 5 0 21 0;
#X connect 8 0 21 0;
#X connect 9 0 20 0;
#X connect 11 0 10 1;
#X connect 13 0 16 0;
#X connect 14 0 13 1;
#X connect 15 0 13 0;
#X connect 15 1 17 0;
#X connect 15 2 11 0;
#X connect 17 0 10 0;
#X connect 18 0 12 0;
#X connect 19 0 15 0;
#X connect 20 0 19 0;
#X connect 20 1 14 0;
#X connect 20 2 18 0;
#X restore 261 133 pd legato;
#N canvas 44 162 1164 595 control 0;
#X obj 29 312 s saturation;
#X obj 30 339 s substitution;
#X obj 61 226 s activity;
#X obj 118 110 s legato;
#X obj 118 88 min 32;
#X obj 126 67 s force-legato;
#X obj 118 35 int;
#X obj 118 11 r raw-legato;
#X obj 10 74 s density;
#X obj 10 11 r raw-density;
#X obj 10 33 int;
#X obj 237 34 int;
#X obj 237 11 r raw-register;
#X obj 237 77 s register;
#X obj 238 108 r reset-analysis;
#X obj 248 172 s set-register;
#X msg 238 129 0;
#X text 25 288 these are NOT yet implemented!;
#X obj 258 152 s set-range;
#X obj 347 34 int;
#X obj 347 11 r raw-range;
#X obj 347 77 s range;
#X obj 10 53 change;
#X obj 237 55 change;
#X obj 347 55 change;
#X obj 589 40 midi-learn;
#X msg 655 40 123 4;
#X obj 589 17 r learn-tempo;
#X obj 589 106 s set-tempo;
#X obj 589 64 maxlib/scale 0 127 40 239;
#X obj 589 86 int;
#X msg 655 160 1 18;
#X obj 589 206 int;
#X obj 589 137 r learn-density;
#X obj 589 184 maxlib/scale 0 127 1 32;
#X obj 589 226 s set-density;
#X msg 655 280 2 18;
#X obj 589 326 int;
#X msg 845 40 3 18;
#X obj 589 257 r learn-legato;
#X obj 589 304 maxlib/scale 0 127 1 34;
#X obj 589 346 s set-legato;
#X obj 779 17 r learn-activity;
#X obj 779 86 s set-activity;
#X msg 845 290 5 18;
#X obj 779 336 int;
#X msg 845 160 4 18;
#X obj 779 206 int;
#X obj 779 137 r learn-register;
#X obj 779 267 r learn-range;
#X obj 779 184 maxlib/scale 0 127 -6 6;
#X obj 779 357 s set-range;
#X obj 779 226 s set-register;
#X obj 779 314 maxlib/scale 0 127 0 4;
#X obj 589 160 midi-learn;
#X obj 589 280 midi-learn;
#X obj 779 40 midi-learn;
#X obj 779 290 midi-learn;
#X obj 779 160 midi-learn;
#X obj 61 189 r raw-activity;
#X obj 238 192 s set-activity;
#X msg 1045 40 6 18;
#X obj 979 86 int;
#X msg 1035 280 8 18;
#X msg 1045 170 7 18;
#X obj 979 40 midi-learn;
#X obj 969 280 midi-learn;
#X obj 979 170 midi-learn;
#X obj 979 17 r learn-bass-density;
#X obj 979 147 r learn-bass-duration;
#X obj 979 106 s set-bass-density;
#X obj 979 216 s set-bass-duration;
#X obj 969 257 r learn-bass-accents;
#X obj 969 326 s set-bass-velocity;
#X msg 589 508 seek \$1;
#X obj 649 486 loadbang;
#X obj 639 540 s playlist;
#X msg 649 508 location ./midi-chord-loops \, graphics 0;
#X obj 259 356 s set-play;
#X msg 589 432 1;
#X msg 620 432 -1;
#X obj 625 463 f 0;
#X obj 589 463 + 0;
#X obj 589 486 mod 100;
#X obj 589 386 r scroll-down;
#X obj 620 409 r scroll-up;
#X msg 447 262 10 18;
#X obj 379 262 midi-learn;
#X obj 379 287 != 0;
#X obj 379 356 s set-reload;
#X obj 379 238 r learn-reload;
#X msg 327 262 123 4;
#X obj 259 262 midi-learn;
#X obj 259 287 != 0;
#X obj 259 238 r learn-play;
#X msg 1034 398 9 18;
#X obj 968 398 midi-learn;
#X obj 968 462 s set-bass-octave;
#X obj 968 375 r learn-bass-octave;
#X obj 259 334 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 259 310 sel 1;
#X msg 449 420 11 18;
#X obj 381 420 midi-learn;
#X obj 381 445 != 0;
#X obj 381 469 change;
#X obj 381 396 r learn-scrollup;
#X obj 381 512 s set-scroll-up;
#X msg 326 420 12 18;
#X obj 258 420 midi-learn;
#X obj 258 445 != 0;
#X obj 258 469 change;
#X obj 258 396 r learn-scrolldown;
#X obj 258 512 s set-scroll-down;
#X obj 379 310 change;
#X obj 379 332 sel 1;
#X obj 381 491 sel 1;
#X obj 258 490 sel 1;
#X text 34 209 I HAVE DISCONNECTED THIS!!!;
#X obj 779 64 maxlib/scale 0 127 0 1;
#X obj 979 64 maxlib/scale 0 127 0 32;
#X obj 979 194 maxlib/scale 0 127 0.2 16;
#X obj 969 304 maxlib/scale 0 127 1 0.125;
#X obj 968 420 - 3;
#X obj 968 440 abs;
#X connect 4 0 3 0;
#X connect 6 0 5 0;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 22 0;
#X connect 11 0 23 0;
#X connect 12 0 11 0;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 16 0 18 0;
#X connect 16 0 60 0;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 22 0 8 0;
#X connect 23 0 13 0;
#X connect 24 0 21 0;
#X connect 25 0 29 0;
#X connect 25 1 26 0;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 31 0 54 1;
#X connect 32 0 35 0;
#X connect 33 0 54 0;
#X connect 34 0 32 0;
#X connect 36 0 55 1;
#X connect 37 0 41 0;
#X connect 38 0 56 1;
#X connect 39 0 55 0;
#X connect 40 0 37 0;
#X connect 42 0 56 0;
#X connect 44 0 57 1;
#X connect 45 0 51 0;
#X connect 46 0 58 1;
#X connect 47 0 52 0;
#X connect 48 0 58 0;
#X connect 49 0 57 0;
#X connect 50 0 47 0;
#X connect 53 0 45 0;
#X connect 54 0 34 0;
#X connect 54 1 31 0;
#X connect 55 0 40 0;
#X connect 55 1 36 0;
#X connect 56 0 118 0;
#X connect 56 1 38 0;
#X connect 57 0 53 0;
#X connect 57 1 44 0;
#X connect 58 0 50 0;
#X connect 58 1 46 0;
#X connect 61 0 65 1;
#X connect 62 0 70 0;
#X connect 63 0 66 1;
#X connect 64 0 67 1;
#X connect 65 0 119 0;
#X connect 65 1 61 0;
#X connect 66 0 121 0;
#X connect 66 1 63 0;
#X connect 67 0 120 0;
#X connect 67 1 64 0;
#X connect 68 0 65 0;
#X connect 69 0 67 0;
#X connect 72 0 66 0;
#X connect 74 0 76 0;
#X connect 75 0 77 0;
#X connect 77 0 76 0;
#X connect 79 0 82 0;
#X connect 80 0 82 0;
#X connect 81 0 82 1;
#X connect 82 0 81 0;
#X connect 82 0 83 0;
#X connect 83 0 74 0;
#X connect 84 0 79 0;
#X connect 85 0 80 0;
#X connect 86 0 87 1;
#X connect 87 0 88 0;
#X connect 87 1 86 0;
#X connect 88 0 113 0;
#X connect 90 0 87 0;
#X connect 91 0 92 1;
#X connect 92 0 93 0;
#X connect 92 1 91 0;
#X connect 93 0 100 0;
#X connect 94 0 92 0;
#X connect 95 0 96 1;
#X connect 96 0 122 0;
#X connect 96 1 95 0;
#X connect 98 0 96 0;
#X connect 99 0 78 0;
#X connect 100 0 99 0;
#X connect 101 0 102 1;
#X connect 102 0 103 0;
#X connect 102 1 101 0;
#X connect 103 0 104 0;
#X connect 104 0 115 0;
#X connect 105 0 102 0;
#X connect 107 0 108 1;
#X connect 108 0 109 0;
#X connect 108 1 107 0;
#X connect 109 0 110 0;
#X connect 110 0 116 0;
#X connect 111 0 108 0;
#X connect 113 0 114 0;
#X connect 114 0 89 0;
#X connect 115 0 106 0;
#X connect 116 0 112 0;
#X connect 118 0 43 0;
#X connect 119 0 62 0;
#X connect 120 0 71 0;
#X connect 121 0 73 0;
#X connect 122 0 123 0;
#X connect 123 0 97 0;
#X restore 216 41 pd control from pd-gui;
#N canvas 318 50 572 466 clock 0;
#X obj 197 146 /;
#X obj 176 367 + 1;
#X obj 146 367 f 0;
#X msg 201 333 0;
#X msg 197 126 15000 \$1;
#X obj 179 394 sel 0 31;
#X obj 146 168 metro 125;
#X obj 197 82 r tempo;
#X obj 146 418 s current_step;
#X obj 205 104 s vis-tempo;
#X obj 186 195 midi-sync;
#X obj 186 225 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 41 277 sel 0;
#X obj 154 192 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 376 103 r clock-mode;
#X obj 376 126 sel 0 1;
#X obj 73 8 r play;
#X obj 73 112 f;
#X obj 256 260 r clock-mode;
#X obj 211 284 spigot 0;
#X obj 186 260 s set-play;
#X obj 73 134 spigot;
#X obj 79 28 r clock-mode;
#X obj 79 49 - 1;
#X obj 79 69 abs;
#X obj 79 90 t b f;
#X obj 119 134 sel 1;
#X obj 86 278 sel 0 1;
#X obj 282 193 r clock-mode;
#X obj 237 217 spigot 0;
#X obj 237 239 s set-tempo;
#X msg 395 148 \; set-play color 11 11 1 \; set-tempo color 11 11 1
;
#X msg 376 216 \; set-play color 2 13 10 \; set-tempo color 2 13 10
;
#X msg 101 311 0;
#X obj 45 375 midi-panic-ch 1;
#X obj 28 398 midi-panic-ch 2;
#X connect 0 0 6 1;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 5 0;
#X connect 2 0 8 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 5 1 3 0;
#X connect 6 0 13 0;
#X connect 6 0 2 0;
#X connect 7 0 4 0;
#X connect 7 0 9 0;
#X connect 10 0 11 0;
#X connect 10 1 19 0;
#X connect 10 2 29 0;
#X connect 11 0 20 0;
#X connect 11 0 27 0;
#X connect 12 0 33 0;
#X connect 12 0 34 0;
#X connect 12 0 35 0;
#X connect 14 0 15 0;
#X connect 15 0 32 0;
#X connect 15 1 31 0;
#X connect 16 0 17 0;
#X connect 17 0 21 0;
#X connect 18 0 19 1;
#X connect 19 0 2 0;
#X connect 21 0 6 0;
#X connect 21 0 12 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 17 0;
#X connect 25 1 21 1;
#X connect 25 1 26 0;
#X connect 26 1 6 0;
#X connect 27 0 33 0;
#X connect 27 0 34 0;
#X connect 27 0 35 0;
#X connect 28 0 29 1;
#X connect 29 0 30 0;
#X connect 33 0 2 1;
#X restore 356 41 pd clock;
#N canvas 61 50 928 751 activity 0;
#X obj 583 184 listfind;
#X msg 583 162 1;
#X obj 459 156 tabread \$0-activity;
#X obj 495 244 route float bang;
#X obj 610 280 f;
#X obj 639 280 + 1;
#X obj 625 258 f;
#X obj 471 319 add2list prepend;
#X obj 471 361 list length;
#X obj 635 233 r voice-changes;
#X obj 471 340 t l l;
#X obj 477 449 list;
#X obj 486 382 r voice-changes;
#X obj 471 404 ==;
#X obj 476 428 sel 1;
#X obj 477 471 sort;
#X obj 459 180 t f f;
#X obj 471 297 f;
#X obj 495 266 t b;
#X obj 432 55 t f b b;
#X obj 583 140 t b b b;
#X obj 477 600 listfind;
#X obj 477 622 route float;
#X obj 166 58 r density;
#X obj 230 58 r activity;
#X obj 230 112 *;
#X obj 230 85 t b f;
#X obj 230 155 int;
#X floatatom 260 176 5 0 0 0 - - -, f 5;
#X obj 705 399 t b l;
#X obj 624 425 f;
#X obj 624 496 list;
#X obj 756 614 list prepend;
#X obj 624 447 t b f;
#N canvas 431 50 495 459 activity 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-activity 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 14 -37 graph;
#X text 11 103 descendientemente \, por compás;
#X msg 14 128 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 48 271 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 46 248 from daniel1;
#X msg 59 329 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 56 308 from daniel-inverse;
#X text 31 193 descendientemente \, por subtiempos débiles;
#X msg 24 216 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 14 375 zexy/tabset \$0-activity;
#X connect 2 0 9 0;
#X connect 3 0 9 0;
#X connect 5 0 9 0;
#X connect 8 0 9 0;
#X restore 41 430 pd activity table order;
#X obj 477 494 t b l;
#X msg 477 516 32;
#X obj 477 568 t f f;
#X obj 705 378 list;
#X obj 705 332 t b f;
#X floatatom 268 85 5 0 0 0 - - -, f 5;
#X text 272 134 number of chords;
#X floatatom 339 87 5 0 0 0 - - -, f 5;
#X obj 230 198 change;
#X obj 663 15 t l l l;
#X obj 663 94 spigot;
#X obj 696 73 == 0;
#X obj 432 80 forloop;
#X obj 477 539 forloop;
#X obj 21 150 random 2;
#X obj 21 174 sel 0;
#X msg 21 198 -1;
#X obj 21 128 t b;
#X obj 50 72 forloop;
#X obj 21 226 add2list prepend;
#X msg 114 204 0;
#X msg 50 27 16;
#X obj 50 96 sel 0;
#X obj 21 276 list;
#X obj 151 217 sel;
#X obj 166 196 - 1;
#X obj 50 50 t f f;
#N canvas 0 50 450 278 (subpatch) 0;
#X array r-voicing 16 float 3;
#A 0 0 1 -1 1 -1 1 1 -1 1 1 1 1 1 1 -1 1;
#X coords 0 1.1 16 -1.1 100 70 1 0 0;
#X restore 21 333 graph;
#X text 83 28 GET NEW RANDOM DISTRIBUTION;
#X obj 370 425 print some;
#X obj 229 266 s voice-changes;
#X obj 477 644 tabread r-voicing;
#X obj 230 220 + 1;
#X obj 604 210 print onset-positions;
#X floatatom 238 243 5 0 0 0 - - -, f 5;
#X obj 432 103 t f f;
#X obj 412 129 + 16;
#X obj 230 134 * 0.4;
#X obj 756 635 s chord-variations;
#X msg 353 472 0 16 24;
#X obj 353 542 moses 16;
#X obj 21 298 zexy/tabset r-voicing;
#X obj 696 49 list-abs/list-compare;
#X obj 628 162 zexy/tabdump new-onsets;
#X obj 353 516 list-dripv;
#X obj 651 471 chord-foldover;
#X obj 726 355 cyclone/coll one;
#C restore;
#X obj 495 219 zexy/listfind;
#X connect 0 0 68 0;
#X connect 0 0 82 1;
#X connect 1 0 0 0;
#X connect 2 0 16 0;
#X connect 3 0 18 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 10 0;
#X connect 8 0 13 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 1 11 1;
#X connect 11 0 15 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X connect 15 0 35 0;
#X connect 15 0 64 0;
#X connect 15 0 79 0;
#X connect 16 0 82 0;
#X connect 16 1 17 1;
#X connect 17 0 7 0;
#X connect 18 0 17 0;
#X connect 19 0 47 0;
#X connect 19 1 6 0;
#X connect 19 2 20 0;
#X connect 20 0 1 0;
#X connect 20 1 7 1;
#X connect 20 2 78 0;
#X connect 21 0 22 0;
#X connect 22 0 66 0;
#X connect 23 0 25 0;
#X connect 24 0 26 0;
#X connect 24 0 40 0;
#X connect 25 0 72 0;
#X connect 26 0 25 0;
#X connect 26 1 25 1;
#X connect 27 0 28 0;
#X connect 27 0 43 0;
#X connect 29 0 30 0;
#X connect 29 1 80 1;
#X connect 30 0 33 0;
#X connect 31 0 32 0;
#X connect 32 0 73 0;
#X connect 33 0 31 0;
#X connect 33 1 80 0;
#X connect 35 0 36 0;
#X connect 35 1 21 1;
#X connect 36 0 48 0;
#X connect 37 0 21 0;
#X connect 38 0 29 0;
#X connect 39 0 38 0;
#X connect 39 1 32 1;
#X connect 39 1 81 0;
#X connect 42 0 25 0;
#X connect 43 0 67 0;
#X connect 44 0 45 0;
#X connect 44 1 77 1;
#X connect 44 2 77 0;
#X connect 46 0 45 1;
#X connect 47 0 70 0;
#X connect 48 0 37 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 50 1 54 0;
#X connect 51 0 54 0;
#X connect 52 0 49 0;
#X connect 53 0 57 0;
#X connect 54 0 58 1;
#X connect 55 0 54 1;
#X connect 56 0 61 0;
#X connect 57 0 55 0;
#X connect 57 1 52 0;
#X connect 57 1 59 0;
#X connect 58 0 76 0;
#X connect 59 0 58 0;
#X connect 60 0 59 1;
#X connect 61 0 53 0;
#X connect 61 1 60 0;
#X connect 66 0 30 1;
#X connect 67 0 65 0;
#X connect 67 0 19 0;
#X connect 67 0 69 0;
#X connect 70 0 71 0;
#X connect 70 1 2 0;
#X connect 71 0 2 0;
#X connect 72 0 27 0;
#X connect 74 0 79 0;
#X connect 77 0 46 0;
#X connect 78 0 0 1;
#X connect 79 0 75 0;
#X connect 80 0 31 1;
#X connect 81 0 38 1;
#X connect 82 0 3 0;
#X restore 323 133 pd activity;
#N canvas 342 114 582 441 register 0;
#X msg 144 119 dump;
#X obj 103 167 t b l;
#X obj 54 246 >= 0;
#X obj 54 269 sel 0;
#X obj 27 202 f;
#X obj 98 87 t b f;
#X obj 27 346 list;
#X msg 54 293 -1;
#X obj 185 375 list prepend;
#X obj 91 37 t f f;
#X obj 98 64 -;
#X obj 27 224 t b f;
#X msg 432 143 dump;
#X obj 404 191 t b l;
#X obj 378 275 list prepend;
#X obj 394 14 r range;
#X obj 409 67 -;
#X obj 394 38 t f f f;
#X obj 394 89 *;
#X obj 448 41 r set-range;
#X obj 394 110 t b f;
#X obj 368 226 f;
#X text 356 323 sumar restar 12 a cada cambio;
#X text 356 343 en vez de calcular la distancia;
#X text 356 364 de octava;
#X obj 91 14 r register;
#X obj 368 251 chord-range;
#X obj 185 397 s chord-variations;
#X obj 378 296 s chord-variations;
#X obj 144 141 cyclone/coll one;
#C restore;
#X obj 432 165 cyclone/coll one;
#C restore;
#X obj 81 321 chord-foldover;
#X connect 0 0 29 0;
#X connect 1 0 4 0;
#X connect 1 1 31 1;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 1 31 0;
#X connect 4 0 11 0;
#X connect 5 0 0 0;
#X connect 5 1 4 1;
#X connect 6 0 8 0;
#X connect 7 0 31 0;
#X connect 8 0 27 0;
#X connect 9 0 10 1;
#X connect 9 1 10 0;
#X connect 10 0 5 0;
#X connect 11 0 6 0;
#X connect 11 1 2 0;
#X connect 12 0 30 0;
#X connect 13 0 21 0;
#X connect 13 1 26 1;
#X connect 14 0 28 0;
#X connect 15 0 17 0;
#X connect 16 0 18 1;
#X connect 17 0 18 0;
#X connect 17 1 16 1;
#X connect 17 2 16 0;
#X connect 18 0 20 0;
#X connect 19 0 16 1;
#X connect 20 0 12 0;
#X connect 20 1 21 1;
#X connect 21 0 26 0;
#X connect 25 0 9 0;
#X connect 26 0 14 0;
#X connect 29 0 1 0;
#X connect 29 1 8 1;
#X connect 30 0 13 0;
#X connect 30 1 14 1;
#X connect 31 0 6 1;
#X restore 217 153 pd register and range;
#X text 9 288 TO DO's:;
#X text 8 342 rethink chord-substitution and expansion.;
#X text 8 362 circular visualization?? processing??;
#X text 8 382 add colors to chord height... (brigthness) and range.
;
#X text 9 305 density bug cuando llega a 15 hace 16;
#X text 8 322 legato does not always visualize correctly.;
#N canvas 654 128 515 367 BASS 0;
#N canvas 789 265 314 362 tables 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array nonext 16 float 3;
#A 0 4 2 5 3 6 5 1 8 3 7 6 3 7 8 6 6;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 53 53 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array next 16 float 3;
#A 0 4 2 5 3 4 5 1 2 3 5 4 3 5 2 4 4;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 54 127 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array id2d 32 float 3;
#A 0 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3 4 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3
4;
#X coords 0 4 31 0 200 140 1 0 0;
#X restore 46 198 graph;
#X restore 14 302 pd tables needed;
#X text 127 301 <- dont erase this. there are some tables needed for
this thing to work;
#N canvas 186 143 1018 615 onset2note 0;
#X obj 12 20 inlet;
#X obj 95 58 table riddm;
#N canvas 465 82 691 699 salience 0;
#X obj 24 17 inlet;
#X obj 41 132 list split 1;
#X obj 110 188 list split 1;
#X obj 68 211 == 1;
#X obj 102 211 == 0;
#X obj 68 235 &&;
#X obj 104 168 list;
#X obj 41 151 t b f;
#X obj 74 87 list split 1;
#X obj 40 114 list append;
#X obj 147 395 list;
#X obj 23 459 list;
#X obj 69 395 list prepend;
#X obj 23 527 list split 1;
#X msg 240 181 bang;
#X obj 128 493 list length;
#X obj 23 476 t a a;
#X obj 128 510 - 1;
#X obj 125 301 f;
#X obj 160 300 + 1;
#X msg 352 162 0;
#X obj 23 37 t b a a b b;
#X msg 125 282 bang;
#X obj 68 265 t f f;
#N canvas 0 50 450 300 (subpatch) 0;
#X array salience 16 float 1;
#A 0 -1 4 -3 6 -6 0.5 -6.5 1 -6 0.5 -6.5 1 -4 1.5 -5.5 3;
#X coords 0 4 15 -4 200 140 1 0 0;
#X restore 421 174 graph;
#X msg 365 326 \; salience 0 4 -1 1 -2 2 -1 1 -3 3 -1 1 -2 2 -1 1 -4
;
#X obj 125 319 tabread salience;
#X obj 68 336 *;
#X obj 69 375 int;
#X obj 23 581 outlet;
#X text 290 33 find the salient notes of a rhythmic phrase;
#X obj 68 356 * -1;
#X obj 244 541 outlet;
#X text 28 598 todos;
#X text 225 558 solo positivos;
#X text 224 572 (syncopations);
#X obj 451 537 outlet;
#X text 432 554 solo negativos;
#X text 434 572 (reinforcements);
#X obj 351 426 list;
#X obj 244 445 list;
#X obj 265 426 list prepend;
#X obj 244 515 list split 1;
#X obj 349 481 list length;
#X obj 244 464 t a a;
#X obj 349 498 - 1;
#X obj 265 393 moses 0;
#X obj 23 428 t b b b;
#X msg 225 407 0;
#X connect 0 0 21 0;
#X connect 1 0 7 0;
#X connect 1 1 2 0;
#X connect 1 1 6 1;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 23 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 3 0;
#X connect 8 0 9 1;
#X connect 9 0 1 0;
#X connect 10 0 12 1;
#X connect 11 0 16 0;
#X connect 12 0 10 0;
#X connect 12 0 11 1;
#X connect 13 0 29 0;
#X connect 14 0 12 1;
#X connect 14 0 41 1;
#X connect 15 0 17 0;
#X connect 16 0 13 0;
#X connect 16 1 15 0;
#X connect 17 0 13 1;
#X connect 18 0 19 0;
#X connect 18 0 26 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 47 0;
#X connect 21 1 9 0;
#X connect 21 2 8 0;
#X connect 21 3 14 0;
#X connect 21 4 20 0;
#X connect 22 0 18 0;
#X connect 23 0 27 0;
#X connect 23 1 22 0;
#X connect 26 0 27 1;
#X connect 27 0 31 0;
#X connect 28 0 12 0;
#X connect 28 0 46 0;
#X connect 31 0 28 0;
#X connect 39 0 41 1;
#X connect 40 0 44 0;
#X connect 41 0 39 0;
#X connect 41 0 40 1;
#X connect 42 0 32 0;
#X connect 43 0 45 0;
#X connect 44 0 42 0;
#X connect 44 1 43 0;
#X connect 45 0 42 1;
#X connect 46 0 48 0;
#X connect 46 1 41 0;
#X connect 47 0 11 0;
#X connect 47 1 40 0;
#X connect 48 0 41 0;
#X restore 12 89 pd salience;
#N canvas 264 140 857 503 calculate 0;
#X obj 334 173 list split 1;
#X obj 334 194 t b a;
#X obj 377 212 list;
#X obj 420 258 f;
#X obj 442 258 + 1;
#X msg 436 169 0;
#X obj 366 241 t f b;
#X obj 350 283 sel 0;
#X obj 474 279 t f f;
#X obj 378 327 +;
#X obj 231 87 t b a b b;
#X msg 214 211 16;
#X obj 214 263 t f f;
#X obj 77 28 inlet;
#X text 431 16 use the values of the most salien notes and the values
of the L profile and set an experimental velocity value for the notes.
This highlights the accents (theoretical) plus the syncopations found
on the pattern.;
#X obj 58 394 forloop;
#X msg 58 373 16;
#X obj 58 415 t f f;
#X obj 58 476 tabwrite velocity;
#X obj 126 170 t b b b;
#X obj 58 456 pow;
#X obj 506 404 inlet;
#X obj 214 304 + 2;
#X obj 393 307 tabread vel;
#X obj 378 351 tabwrite vel;
#X obj 214 283 tabread vel;
#X obj 214 324 tabwrite vel;
#X obj 59 435 tabread vel;
#X obj 555 218 table vel 16;
#X obj 506 424 t b f;
#X msg 145 347 \; vel normalize 1;
#X msg 369 104 \; vel 0 2 0 1 0 2 0 1 0 2 0 1 0 2 0 1 0;
#X obj 214 240 forloop;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 6 1 3 0;
#X connect 7 1 9 0;
#X connect 8 0 23 0;
#X connect 8 1 24 1;
#X connect 9 0 24 0;
#X connect 10 0 19 0;
#X connect 10 1 0 0;
#X connect 10 2 5 0;
#X connect 10 2 2 1;
#X connect 10 3 31 0;
#X connect 11 0 32 0;
#X connect 12 0 25 0;
#X connect 12 1 26 1;
#X connect 13 0 10 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 27 0;
#X connect 17 1 18 1;
#X connect 19 0 16 0;
#X connect 19 1 30 0;
#X connect 19 2 11 0;
#X connect 20 0 18 0;
#X connect 21 0 29 0;
#X connect 22 0 26 0;
#X connect 23 0 9 1;
#X connect 25 0 22 0;
#X connect 27 0 20 0;
#X connect 29 0 16 0;
#X connect 29 1 20 1;
#X connect 32 0 12 0;
#X restore 43 147 pd calculate velocity;
#X text 134 87 calculate the salience of a sequence. Outputs are (allnotes
\, only syncopations \, only reinforcements);
#X obj 43 167 table velocity 16;
#X obj 651 300 tabread riddm;
#X obj 651 321 sel 1;
#X obj 737 294 tabread velocity;
#X obj 651 277 t f f;
#X obj 722 347 f;
#X text 85 86 <-------;
#X text 57 20 input an onset sequence;
#X obj 763 569 outlet;
#X obj 529 169 f;
#X obj 605 117 r fundamentals;
#X obj 605 142 unpack;
#X obj 570 170 f;
#X obj 529 135 sel 0 1;
#X obj 738 496 f;
#X obj 722 370 t b f;
#X obj 860 382 r tempo;
#X obj 860 404 * 4;
#X msg 860 426 60000 \$1;
#X obj 860 449 /;
#X obj 894 449 r bass-duration;
#X obj 894 473 t b f;
#X obj 880 498 * 1;
#X obj 734 40 r current_step;
#X obj 651 254 mod 16;
#X obj 572 219 r bass-octave;
#X obj 572 281 * 12;
#X obj 572 304 + 36;
#X obj 809 394 int;
#X obj 763 522 makenote 127 300;
#X obj 737 315 * 127;
#X obj 529 113 >= 16;
#X obj 773 422 mod 2;
#X obj 734 62 t f f f;
#X obj 773 444 * 12;
#X obj 758 466 + 0;
#X obj 531 337 + 24;
#X obj 166 124 r bass-velocity;
#X obj 95 37 zexy/tabset riddm;
#X obj 763 548 pack f f;
#X obj 572 239 - 2;
#X obj 572 259 abs;
#X connect 0 0 2 0;
#X connect 0 0 43 0;
#X connect 2 1 3 0;
#X connect 6 0 7 0;
#X connect 7 0 10 0;
#X connect 8 0 35 0;
#X connect 9 0 6 0;
#X connect 9 1 8 0;
#X connect 10 0 20 0;
#X connect 14 0 41 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 16 1 17 1;
#X connect 17 0 41 0;
#X connect 18 0 14 0;
#X connect 18 1 17 0;
#X connect 19 0 34 0;
#X connect 20 0 19 0;
#X connect 20 1 33 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 27 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 1 27 1;
#X connect 27 0 34 2;
#X connect 28 0 38 0;
#X connect 29 0 9 0;
#X connect 30 0 45 0;
#X connect 31 0 32 0;
#X connect 32 0 41 1;
#X connect 33 0 34 1;
#X connect 34 0 44 0;
#X connect 34 1 44 1;
#X connect 35 0 10 1;
#X connect 36 0 18 0;
#X connect 37 0 39 0;
#X connect 38 0 29 0;
#X connect 38 1 36 0;
#X connect 38 2 37 0;
#X connect 39 0 40 1;
#X connect 40 0 19 1;
#X connect 41 0 40 0;
#X connect 42 0 3 1;
#X connect 44 0 13 0;
#X connect 45 0 46 0;
#X connect 46 0 31 0;
#X coords 0 615 1 614 240 17 0;
#X restore 13 181 pd onset2note;
#X text 99 181 <- look inside to adjust the note sequence;
#X msg 22 130 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 1
0 0 1 0 0 0;
#X obj 100 59 r onsets-bass;
#X obj 13 9 r bass-density;
#X obj 13 83 populate-rhythm;
#X obj 22 108 cyclone/prepend set;
#X obj 35 234 noteout 1;
#X text 106 233 bass is on midi channel 1;
#X obj 13 32 int;
#X floatatom 26 59 5 0 0 0 - - -, f 5;
#X obj 13 206 poly 1 1;
#X connect 2 0 13 0;
#X connect 5 0 7 1;
#X connect 6 0 11 0;
#X connect 7 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 11 0 7 0;
#X connect 11 0 12 0;
#X connect 13 1 9 0;
#X connect 13 2 9 1;
#X restore 218 253 pd BASS;
#N canvas 413 209 382 569 legato-visualization 0;
#X obj 96 344 f 0;
#X obj 126 344 + 1;
#X obj 81 390 s;
#X obj 111 272 r density;
#X msg 111 319 0;
#X obj 69 209 tabread new-onsets;
#X obj 140 319 s reset-slaves;
#X obj 69 229 pack;
#X obj 69 250 route 1;
#X obj 111 295 t b b;
#X obj 50 77 until;
#X obj 79 166 + 1;
#X obj 50 165 f 0;
#X obj 65 98 r reset-slaves;
#X msg 65 143 0;
#X obj 75 119 r reset-analysis;
#X msg 50 55 32;
#X obj 69 272 t f b;
#X obj 50 10 r density;
#X obj 96 366 makefilename slave-chord-pos-%d;
#X obj 24 251 sel 31;
#X obj 50 188 t f f f;
#X obj 50 33 delay 1;
#X obj 24 420 s update-legato;
#X connect 0 0 1 0;
#X connect 0 0 19 0;
#X connect 1 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 0 1;
#X connect 5 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 17 0;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 0 12 0;
#X connect 11 0 12 1;
#X connect 12 0 11 0;
#X connect 12 0 21 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 16 0 10 0;
#X connect 17 0 2 0;
#X connect 17 1 0 0;
#X connect 18 0 22 0;
#X connect 19 0 2 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 21 1 5 0;
#X connect 21 2 7 1;
#X connect 22 0 16 0;
#X restore 217 83 pd legato-visualization;
#N canvas 10 50 603 751 event-visualization 0;
#X obj 302 726 s;
#X obj 20 131 until;
#X obj 49 155 + 1;
#X obj 20 154 f 0;
#X obj 301 45 t b b;
#X obj 317 704 makefilename slave-chord-dur-%d;
#X obj 194 191 tabread slave-pattern;
#X msg 65 131 0;
#X obj 360 469 + 1;
#X obj 331 469 f 1;
#X msg 342 442 1;
#X obj 296 491 f;
#X obj 232 290 -;
#X obj 194 254 t f f f f;
#X msg 194 212 2 \$1;
#X obj 194 234 pow;
#X msg 328 191 10;
#X obj 331 291 sel 0.5;
#X obj 269 410 t b b;
#X obj 211 313 pack;
#X obj 342 370 sel -8;
#X obj 131 296 moses 0;
#X obj 67 348 spigot;
#X obj 20 110 f 33;
#X obj 247 536 list;
#X obj 20 370 sel 32;
#X obj 278 588 list length;
#X obj 307 634 + 1;
#X obj 278 633 f 0;
#X msg 364 586 0;
#X obj 247 559 t l l b;
#X obj 278 610 until;
#X obj 278 680 + 1;
#X obj 278 658 t b f f;
#X obj 215 657 list;
#X obj 338 516 add2list prepend;
#X obj 301 23 r update-legato;
#X obj 20 89 del 10;
#X obj 269 341 select-both 2 0;
#X obj 200 370 select-both 1 0.5;
#X obj 136 410 select-both 1 -1;
#X obj 67 370 select-both 2 1.5;
#X obj 215 701 zexy/packel;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 6 0;
#X connect 3 0 25 0;
#X connect 4 0 37 0;
#X connect 4 1 7 0;
#X connect 4 1 16 0;
#X connect 4 1 35 1;
#X connect 5 0 0 1;
#X connect 6 0 14 0;
#X connect 7 0 3 1;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 11 1;
#X connect 10 0 9 0;
#X connect 11 0 35 0;
#X connect 12 0 19 1;
#X connect 12 0 20 0;
#X connect 13 0 21 0;
#X connect 13 1 19 0;
#X connect 13 1 17 0;
#X connect 13 2 12 1;
#X connect 13 3 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 12 1;
#X connect 17 0 9 0;
#X connect 18 0 10 0;
#X connect 18 1 11 0;
#X connect 19 0 22 0;
#X connect 19 0 38 0;
#X connect 19 0 39 0;
#X connect 19 0 40 0;
#X connect 20 0 10 0;
#X connect 21 1 22 1;
#X connect 22 0 41 0;
#X connect 23 0 1 0;
#X connect 24 0 30 0;
#X connect 25 0 24 0;
#X connect 26 0 31 0;
#X connect 27 0 28 1;
#X connect 28 0 27 0;
#X connect 28 0 33 0;
#X connect 29 0 28 1;
#X connect 30 0 26 0;
#X connect 30 1 34 1;
#X connect 30 2 29 0;
#X connect 31 0 28 0;
#X connect 32 0 42 1;
#X connect 33 0 34 0;
#X connect 33 1 32 0;
#X connect 33 2 5 0;
#X connect 34 0 42 0;
#X connect 35 0 24 1;
#X connect 36 0 4 0;
#X connect 37 0 23 0;
#X connect 38 0 18 0;
#X connect 39 0 18 0;
#X connect 40 0 18 0;
#X connect 41 0 18 0;
#X connect 42 0 0 0;
#X restore 217 62 pd event-visualization;
#X text 8 402 bass duration;
#N canvas 0 50 851 600 data-visualisation 0;
#N canvas 789 423 334 157 line 0;
#X obj 32 11 struct line float pos float color;
#X obj 35 43 drawpolygon color 1 pos 20 pos 100;
#X restore 124 35 pd line;
#X obj 248 200 set beat x;
#X obj 248 21 r current_step;
#X obj 248 43 div 4;
#X obj 248 64 change;
#X obj 248 109 + 25;
#X obj 248 87 * 100;
#N canvas 462 50 405 524 grid-generator 0;
#X obj 165 116 pointer;
#X obj 131 22 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 148 160 33;
#X obj 165 234 * 25;
#X msg 182 82 \; pd-data clear;
#X msg 165 60 traverse pd-data \, bang;
#X obj 148 183 forloop 0;
#X obj 165 256 + 25;
#X obj 241 227 mod 4;
#X obj 185 320 append line pos color;
#X obj 241 249 sel 0;
#X obj 269 272 t b;
#X obj 197 256 sel 0;
#X msg 197 277 900;
#X obj 197 234 mod 16;
#X msg 121 339 25;
#X obj 131 39 t b b b b;
#X obj 121 361 append beat x;
#X msg 269 293 333;
#X msg 241 272 666;
#X obj 131 2 loadbang;
#X obj 121 257 sel 32;
#X obj 148 206 t f f f f;
#X obj 165 137 s loadpointer;
#X obj 308 298 r loadpointer;
#X obj 160 409 r loadpointer;
#X obj 196 341 r loadpointer;
#X obj 56 161 s pointerready;
#X obj 56 140 delay 10;
#X obj 67 430 append mchord0 x;
#X obj 67 362 forloop;
#X msg 67 341 8;
#X msg 67 386 set mchord\$1 x \, 500;
#X obj 110 478 r loadpointer;
#X obj 17 431 forloop;
#X msg 17 455 set schord\$1 x \, 500;
#X msg 17 410 32;
#X obj 48 312 t b b b;
#X obj 17 499 append schord0 x;
#X connect 0 0 23 0;
#X connect 1 0 16 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 22 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 10 0 19 0;
#X connect 10 1 11 0;
#X connect 11 0 18 0;
#X connect 12 0 13 0;
#X connect 13 0 9 1;
#X connect 14 0 12 0;
#X connect 15 0 17 0;
#X connect 16 0 28 0;
#X connect 16 1 2 0;
#X connect 16 2 5 0;
#X connect 16 3 4 0;
#X connect 18 0 9 1;
#X connect 19 0 9 1;
#X connect 20 0 1 0;
#X connect 21 0 37 0;
#X connect 22 0 21 0;
#X connect 22 1 3 0;
#X connect 22 2 14 0;
#X connect 22 3 8 0;
#X connect 24 0 9 2;
#X connect 25 0 29 1;
#X connect 26 0 17 1;
#X connect 28 0 27 0;
#X connect 30 0 32 0;
#X connect 31 0 30 0;
#X connect 32 0 29 0;
#X connect 33 0 38 1;
#X connect 34 0 35 0;
#X connect 35 0 38 0;
#X connect 36 0 34 0;
#X connect 37 0 36 0;
#X connect 37 1 31 0;
#X connect 37 2 15 0;
#X restore 14 35 pd grid-generator;
#X obj 289 109 until;
#X msg 330 135 traverse pd-data;
#X obj 303 85 t b b;
#X msg 289 132 next;
#X obj 303 66 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 303 45 r pointerready;
#N canvas 831 269 334 157 beat 0;
#X obj 6 11 struct beat float x;
#X obj 7 35 drawpolygon 222 2 0 20 100 20;
#X obj 7 55 drawpolygon 222 2 0 100 100 100;
#X restore 174 35 pd beat;
#N canvas 0 50 373 97 mchord1 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord1 float x float dur symbol chordname;
#X restore 8 84 pd mchord1;
#N canvas 0 50 373 97 mchord2 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord2 float x float dur symbol chordname;
#X restore 8 104 pd mchord2;
#N canvas 0 50 373 97 mchord3 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord3 float x float dur symbol chordname;
#X restore 8 124 pd mchord3;
#N canvas 0 50 373 97 mchord4 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord4 float x float dur symbol chordname;
#X restore 8 144 pd mchord4;
#N canvas 0 50 373 97 mchord5 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord5 float x float dur symbol chordname;
#X restore 8 164 pd mchord5;
#N canvas 0 50 373 97 mchord6 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord6 float x float dur symbol chordname;
#X restore 8 184 pd mchord6;
#N canvas 0 50 373 97 mchord7 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord7 float x float dur symbol chordname;
#X restore 8 204 pd mchord7;
#N canvas 0 50 373 97 mchord0 0;
#X obj 5 28 filledpolygon 555 666 1 0 30 dur 30 dur 90 0 90;
#X obj 5 48 drawsymbol chordname 5 35 999;
#X obj 5 8 struct mchord0 float x float dur symbol chordname;
#X restore 8 64 pd mchord0;
#X obj 289 157 pointer beat;
#X obj 289 179 t b p;
#X obj 649 19 r reset-analysis;
#X obj 483 21 r reset-slaves;
#X msg 649 44 \; master-chord-fill-0 C 100 1 \; master-chord-fill-1
C 100 1 \; master-chord-fill-2 C 100 1 \; master-chord-fill-3 C 100
1 \; master-chord-fill-4 C 100 1 \; master-chord-fill-5 C 100 1 \;
master-chord-fill-6 C 100 1 \; master-chord-fill-7 C 100 1 \; slave-chord-pos-0
100 \; slave-chord-pos-1 100 \; slave-chord-pos-2 100 \; slave-chord-pos-3
100 \; slave-chord-pos-4 100 \; slave-chord-pos-5 100 \; slave-chord-pos-6
100 \; slave-chord-pos-7 100 \; slave-chord-pos-8 100 \; slave-chord-pos-9
100 \; slave-chord-pos-10 100 \; slave-chord-pos-11 100 \; slave-chord-pos-12
100 \; slave-chord-pos-13 100 \; slave-chord-pos-14 100 \; slave-chord-pos-15
100 \; slave-chord-pos-16 100 \; slave-chord-pos-17 100 \; slave-chord-pos-18
100 \; slave-chord-pos-19 100 \; slave-chord-pos-20 100 \; slave-chord-pos-21
100 \; slave-chord-pos-22 100 \; slave-chord-pos-23 100 \; slave-chord-pos-24
100 \; slave-chord-pos-25 100 \; slave-chord-pos-26 100 \; slave-chord-pos-27
100 \; slave-chord-pos-28 100 \; slave-chord-pos-29 100 \; slave-chord-pos-30
100 \; slave-chord-pos-31 100 \;;
#X msg 483 46 \; slave-chord-pos-0 100 \; slave-chord-pos-1 100 \;
slave-chord-pos-2 100 \; slave-chord-pos-3 100 \; slave-chord-pos-4
100 \; slave-chord-pos-5 100 \; slave-chord-pos-6 100 \; slave-chord-pos-7
100 \; slave-chord-pos-8 100 \; slave-chord-pos-9 100 \; slave-chord-pos-10
100 \; slave-chord-pos-11 100 \; slave-chord-pos-12 100 \; slave-chord-pos-13
100 \; slave-chord-pos-14 100 \; slave-chord-pos-15 100 \; slave-chord-pos-16
100 \; slave-chord-pos-17 100 \; slave-chord-pos-18 100 \; slave-chord-pos-19
100 \; slave-chord-pos-20 100 \; slave-chord-pos-21 100 \; slave-chord-pos-22
100 \; slave-chord-pos-23 100 \; slave-chord-pos-24 100 \; slave-chord-pos-25
100 \; slave-chord-pos-26 100 \; slave-chord-pos-27 100 \; slave-chord-pos-28
100 \; slave-chord-pos-29 100 \; slave-chord-pos-30 100 \; slave-chord-pos-31
100 \;;
#X obj 76 184 master-chord-structure 6;
#X obj 76 64 master-chord-structure 0;
#X obj 76 104 master-chord-structure 2;
#X obj 76 84 master-chord-structure 1;
#X obj 76 124 master-chord-structure 3;
#X obj 76 144 master-chord-structure 4;
#X obj 76 164 master-chord-structure 5;
#X obj 76 204 master-chord-structure 7;
#N canvas 402 50 401 161 schord0 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord0 float x float dur symbol chordname;
#X restore 8 224 pd schord0;
#N canvas 402 50 401 161 schord1 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 5 8 struct schord1 float x float dur symbol chordname;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X restore 8 244 pd schord1;
#N canvas 402 50 401 161 schord2 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord2 float x float dur symbol chordname;
#X restore 8 264 pd schord2;
#N canvas 402 50 401 161 schord3 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord3 float x float dur symbol chordname;
#X restore 8 284 pd schord3;
#N canvas 402 50 401 161 schord4 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord4 float x float dur symbol chordname;
#X restore 8 304 pd schord4;
#N canvas 402 50 401 161 schord5 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord5 float x float dur symbol chordname;
#X restore 8 324 pd schord5;
#N canvas 402 50 401 161 schord6 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord6 float x float dur symbol chordname;
#X restore 8 344 pd schord6;
#N canvas 402 50 401 161 schord7 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord7 float x float dur symbol chordname;
#X restore 8 364 pd schord7;
#N canvas 402 50 401 161 schord8 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord8 float x float dur symbol chordname;
#X restore 8 384 pd schord8;
#N canvas 402 50 401 161 schord9 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord9 float x float dur symbol chordname;
#X restore 8 404 pd schord9;
#N canvas 402 50 401 161 schord10 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord10 float x float dur symbol chordname;
#X restore 8 424 pd schord10;
#N canvas 402 50 401 161 schord11 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord11 float x float dur symbol chordname;
#X restore 8 444 pd schord11;
#N canvas 402 50 401 161 schord12 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord12 float x float dur symbol chordname;
#X restore 8 464 pd schord12;
#N canvas 402 50 401 161 schord13 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord13 float x float dur symbol chordname;
#X restore 8 484 pd schord13;
#N canvas 402 50 401 161 schord14 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord14 float x float dur symbol chordname;
#X restore 8 504 pd schord14;
#N canvas 402 50 401 161 schord15 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord15 float x float dur symbol chordname;
#X restore 8 524 pd schord15;
#N canvas 402 50 401 161 schord16 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord16 float x float dur symbol chordname;
#X restore 248 224 pd schord16;
#N canvas 402 50 401 161 schord17 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord17 float x float dur symbol chordname;
#X restore 248 244 pd schord17;
#N canvas 402 50 401 161 schord18 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord18 float x float dur symbol chordname;
#X restore 248 264 pd schord18;
#N canvas 402 50 401 161 schord19 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord19 float x float dur symbol chordname;
#X restore 248 284 pd schord19;
#N canvas 402 50 401 161 schord20 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord20 float x float dur symbol chordname;
#X restore 248 304 pd schord20;
#N canvas 402 50 401 161 schord21 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord21 float x float dur symbol chordname;
#X restore 248 324 pd schord21;
#N canvas 402 50 401 161 schord22 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord22 float x float dur symbol chordname;
#X restore 248 344 pd schord22;
#N canvas 402 50 401 161 schord23 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord23 float x float dur symbol chordname;
#X restore 248 364 pd schord23;
#N canvas 402 50 401 161 schord24 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord24 float x float dur symbol chordname;
#X restore 248 384 pd schord24;
#N canvas 402 50 401 161 schord25 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord25 float x float dur symbol chordname;
#X restore 248 404 pd schord25;
#N canvas 402 50 401 161 schord26 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord26 float x float dur symbol chordname;
#X restore 248 424 pd schord26;
#N canvas 402 50 401 161 schord27 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord27 float x float dur symbol chordname;
#X restore 248 444 pd schord27;
#N canvas 402 50 401 161 schord28 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord28 float x float dur symbol chordname;
#X restore 248 464 pd schord28;
#N canvas 402 50 401 161 schord29 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord29 float x float dur symbol chordname;
#X restore 248 484 pd schord29;
#N canvas 402 50 401 161 schord30 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 4 7 struct schord30 float x float dur symbol chordname;
#X restore 248 504 pd schord30;
#N canvas 402 50 401 161 schord31 0;
#X obj 7 36 filledpolygon 222 666 1 0 60 dur 60 dur 90 0 90;
#X obj 7 62 drawsymbol chordname 5 65 999;
#X obj 5 8 struct schord31 float x float dur symbol chordname;
#X restore 248 524 pd schord31;
#X obj 82 244 slave-chord-structure 1;
#X obj 322 224 slave-chord-structure 16;
#X obj 322 524 slave-chord-structure 31;
#X obj 82 224 slave-chord-structure 0;
#X obj 82 264 slave-chord-structure 2;
#X obj 82 284 slave-chord-structure 3;
#X obj 82 304 slave-chord-structure 4;
#X obj 82 324 slave-chord-structure 5;
#X obj 82 344 slave-chord-structure 6;
#X obj 82 364 slave-chord-structure 7;
#X obj 82 384 slave-chord-structure 8;
#X obj 82 404 slave-chord-structure 9;
#X obj 82 424 slave-chord-structure 10;
#X obj 82 444 slave-chord-structure 11;
#X obj 82 464 slave-chord-structure 12;
#X obj 82 484 slave-chord-structure 13;
#X obj 82 504 slave-chord-structure 14;
#X obj 82 524 slave-chord-structure 15;
#X obj 322 504 slave-chord-structure 30;
#X obj 322 484 slave-chord-structure 29;
#X obj 322 464 slave-chord-structure 28;
#X obj 322 444 slave-chord-structure 27;
#X obj 322 424 slave-chord-structure 26;
#X obj 322 404 slave-chord-structure 25;
#X obj 322 384 slave-chord-structure 24;
#X obj 322 364 slave-chord-structure 23;
#X obj 322 344 slave-chord-structure 22;
#X obj 322 324 slave-chord-structure 21;
#X obj 322 304 slave-chord-structure 20;
#X obj 322 284 slave-chord-structure 19;
#X obj 322 264 slave-chord-structure 18;
#X obj 322 244 slave-chord-structure 17;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 8 0 11 0;
#X connect 9 0 23 0;
#X connect 10 0 8 0;
#X connect 10 1 9 0;
#X connect 11 0 23 0;
#X connect 12 0 10 0;
#X connect 13 0 12 0;
#X connect 23 0 24 0;
#X connect 24 0 8 1;
#X connect 24 1 1 1;
#X connect 25 0 27 0;
#X connect 26 0 28 0;
#X restore 217 103 pd data-visualisation;
#N canvas 0 50 312 534 loadbangs 0;
#X obj 19 11 loadbang;
#X obj 19 98 f \$0;
#X obj 35 122 list;
#X obj 19 74 t b a;
#X msg 19 33 House Harmonic Filler;
#X obj 19 55 zexy/list2symbol;
#X obj 35 307 s playlist;
#X msg 35 285 location ./midi-chord-loops \, graphics 0;
#X msg 35 143 bang \; \$1-title label \$2 \; \$1-title label_pos 5
18 \; \$1-title label_font 1 25 \; \$1-title vis_size 800 425 \; \$1-title
color 11 13 \; set-tempo 125 \; set-bass-duration 1 \; set-bass-octave
1 \; set-clock-mode 1 \;;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X restore 357 62 pd loadbangs;
#X obj 216 20 declare -stdpath unauthorized -path abs -stdpath pdmus
;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 3 0 1 0;
#X restore 734 -1 pd patch;
#X obj -4 -1 cnv 15 800 425 empty \$0-title House Harmonic Filler 5
18 1 25 -128992 -258699 0;
#X obj -1 34 r playlist;
#X obj -1 281 s file-by-name;
#X obj -4 32 cnv 15 250 266 empty empty SHUTTLE 5 12 0 20 -128992 -228856
0;
#X obj 145 88 bng 24 250 50 0 load_midi_file set-load_midi_file load
1 -10 1 12 -66577 -258113 -228856;
#X obj 145 131 bng 24 250 50 0 reload set-reload reload -5 -9 1 12
-66577 -258113 -228856;
#X obj 171 147 bng 8 250 50 0 learn-reload --- empty 17 7 0 10 -262144
-1 -1;
#X obj 145 205 bng 24 250 50 0 scroll-up set-scroll-up up 5 -10 1 12
-66577 -258113 -228856;
#X obj 171 221 bng 8 250 50 0 learn-scrollup --- empty 17 7 0 10 -262144
-1 -1;
#X obj 145 248 bng 24 250 50 0 scroll-down set-scroll-down down -2
-10 1 12 -66577 -258113 -228856;
#X obj 171 264 bng 8 250 50 0 learn-scrolldown --- empty 17 7 0 10
-262144 -1 -1;
#X obj 207 32 cnv 15 250 5 empty empty HARMONY 5 12 0 20 -128992 -228856
0;
#X obj 215 89 vsl 24 180 1 32 0 1 raw-density set-density density -8
-12 1 12 -66577 -258113 -228856 2310 1;
#X obj 241 264 bng 8 250 50 0 learn-density --- empty 17 7 0 10 -262144
-1 -1;
#X obj 258 89 vsl 24 180 1 34 0 1 raw-legato set-legato legato -6 -12
1 12 -66577 -258113 -228856 16815 0;
#X obj 301 89 vsl 24 180 0 1 0 0 raw-activity set-activity activity
-8 -12 1 12 -66577 -258113 -228856 0 1;
#X obj 344 89 vsl 24 180 -6 6 0 0 raw-register set-register register
-9 -12 1 12 -66577 -258113 -228856 8950 1;
#X obj 387 89 vsl 24 180 0 3.9 0 0 raw-range set-range range -5 -12
1 12 -66577 -258113 -228856 0 1;
#X obj 284 264 bng 8 250 50 0 learn-legato --- empty 17 7 0 10 -262144
-1 -1;
#X obj 327 264 bng 8 250 50 0 learn-activity --- empty 17 7 0 10 -262144
-1 -1;
#X obj 413 264 bng 8 250 50 0 learn-range --- empty 17 7 0 10 -262144
-1 -1;
#X obj 370 264 bng 8 250 50 0 learn-register --- empty 17 7 0 10 -262144
-1 -1;
#X obj 448 32 cnv 15 100 20 empty empty BASS 5 12 0 20 -128992 -228856
0;
#X obj 462 89 vsl 24 180 0 32 0 0 bass-density set-bass-density density
-8 -12 1 12 -66577 -258113 -228856 2797 1;
#X obj 505 89 vsl 24 180 0.2 16 0 0 bass-duration set-bass-duration
length -5 -12 1 12 -66577 -258113 -228856 906 1;
#X obj 548 89 vsl 24 180 1 0.125 0 0 bass-velocity set-bass-velocity
accents -10 -12 1 12 -66577 -258113 -228856 0 1;
#X obj 591 200 vradio 24 1 0 3 bass-octave set-bass-octave octave -6
-12 1 12 -66577 -258113 -228856 1;
#X obj 488 264 bng 8 250 50 0 learn-bass-density --- empty 17 7 0 10
-262144 -1 -1;
#X obj 531 264 bng 8 250 50 0 learn-bass-duration --- empty 17 7 0
10 -262144 -1 -1;
#X obj 575 264 bng 8 250 50 0 learn-bass-accents --- empty 17 7 0 10
-262144 -1 -1;
#X obj 617 264 bng 8 250 50 0 learn-bass-octave --- empty 17 7 0 10
-262144 -1 -1;
#X obj 718 224 tgl 48 0 play set-play play 0 -12 1 12 -128992 -128992
-166441 0 1;
#X obj 718 175 tgl 24 0 clock-mode set-clock-mode ext-sync 0 -12 1
12 -66577 -258113 -228856 1 1;
#X obj 768 264 bng 8 250 50 0 learn-play --- empty 17 7 0 10 -262144
-1 -1;
#X obj 665 89 vsl 24 180 40 239 0 0 tempo set-tempo tempo -6 -12 1
12 -128992 -128992 -166441 7646 1;
#X obj 691 264 bng 8 250 50 0 learn-tempo --- empty 17 7 0 10 -262144
-1 -1;
#X obj 648 32 cnv 15 100 20 empty empty TRANSPORT 5 12 0 20 -128992
-228856 0;
#N canvas 0 50 959 334 data 0;
#X scalar schord0 25 400  \;;
#X scalar schord1 425 175  \;;
#X scalar schord2 625 25  \;;
#X scalar schord3 675 25  \;;
#X scalar schord4 750 50  \;;
#X scalar schord5 2525 75  \;;
#X scalar schord6 2525 25  \;;
#X scalar schord7 2525 50  \;;
#X scalar schord8 2525 200  \;;
#X scalar schord9 2525 25  \;;
#X scalar schord10 2525 25  \;;
#X scalar schord11 2525 50  \;;
#X scalar schord12 2525 25  \;;
#X scalar schord13 2525 0  \;;
#X scalar schord14 2525 0  \;;
#X scalar schord15 2525 0  \;;
#X scalar schord16 2525 0  \;;
#X scalar schord17 2525 0  \;;
#X scalar schord18 2525 0  \;;
#X scalar schord19 2525 0  \;;
#X scalar schord20 2525 0  \;;
#X scalar schord21 2525 0  \;;
#X scalar schord22 2525 0  \;;
#X scalar schord23 2525 0  \;;
#X scalar schord24 2525 0  \;;
#X scalar schord25 2525 0  \;;
#X scalar schord26 2525 0  \;;
#X scalar schord27 2525 0  \;;
#X scalar schord28 2525 0  \;;
#X scalar schord29 2525 0  \;;
#X scalar schord30 2525 0  \;;
#X scalar schord31 2525 0  \;;
#X scalar mchord0 625 25  \;;
#X scalar mchord1 675 25  \;;
#X scalar mchord2 750 75  \;;
#X scalar mchord3 2525 25 C \;;
#X scalar mchord4 2525 25 C \;;
#X scalar mchord5 2525 25 C \;;
#X scalar mchord6 25 400 Cmaj7 \;;
#X scalar mchord7 425 175 Dmin7 \;;
#X scalar beat 25 \;;
#X scalar line 25 900 \;;
#X scalar line 50 333 \;;
#X scalar line 75 333 \;;
#X scalar line 100 333 \;;
#X scalar line 125 666 \;;
#X scalar line 150 333 \;;
#X scalar line 175 333 \;;
#X scalar line 200 333 \;;
#X scalar line 225 666 \;;
#X scalar line 250 333 \;;
#X scalar line 275 333 \;;
#X scalar line 300 333 \;;
#X scalar line 325 666 \;;
#X scalar line 350 333 \;;
#X scalar line 375 333 \;;
#X scalar line 400 333 \;;
#X scalar line 425 900 \;;
#X scalar line 450 333 \;;
#X scalar line 475 333 \;;
#X scalar line 500 333 \;;
#X scalar line 525 666 \;;
#X scalar line 550 333 \;;
#X scalar line 575 333 \;;
#X scalar line 600 333 \;;
#X scalar line 625 666 \;;
#X scalar line 650 333 \;;
#X scalar line 675 333 \;;
#X scalar line 700 333 \;;
#X scalar line 725 666 \;;
#X scalar line 750 333 \;;
#X scalar line 775 333 \;;
#X scalar line 800 333 \;;
#X scalar line 825 900 \;;
#X coords 0 0 850 120 800 120 2 0 0;
#X restore -4 304 pd data;
#X obj -1 51 playlist mid 140 240 {Helvetica 12 normal} #999999 grey
black red;
#X obj 715 87 nbx 3 24 -1e+37 1e+37 0 0 notasdfasdfadsfadfad vis-tempo
bpm 0 -8 1 12 -66577 -258699 -233017 125 256;
#X connect 2 0 39 0;
#X connect 39 0 3 0;
